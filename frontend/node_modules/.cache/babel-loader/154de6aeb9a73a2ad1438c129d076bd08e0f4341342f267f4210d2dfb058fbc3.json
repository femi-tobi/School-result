{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\bosol results\\\\frontend\\\\src\\\\pages\\\\TeacherDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TeacherDashboard() {\n  _s();\n  const [teacher, setTeacher] = useState({});\n  const [classes, setClasses] = useState([]);\n  const [selectedClass, setSelectedClass] = useState('');\n  const [results, setResults] = useState([]);\n  const [csvFile, setCsvFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const [students, setStudents] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [term, setTerm] = useState('');\n  const [session, setSession] = useState('');\n  const [resultInputs, setResultInputs] = useState({}); // { student_id: { score, grade } }\n  const [resultMsg, setResultMsg] = useState('');\n  const [subjects, setSubjects] = useState([]);\n  const [caScores, setCaScores] = useState({});\n  const [examScores, setExamScores] = useState({});\n  const [selectedSubjects, setSelectedSubjects] = useState({});\n  const [manualGrades, setManualGrades] = useState({});\n  const [saveMsg, setSaveMsg] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalStudent, setModalStudent] = useState(null);\n  const [studentResults, setStudentResults] = useState([]);\n  const [modalSubject, setModalSubject] = useState('');\n  const [modalCA, setModalCA] = useState('');\n  const [modalExam, setModalExam] = useState('');\n  const [modalGrade, setModalGrade] = useState('');\n  const [modalMsg, setModalMsg] = useState('');\n  const [showAddSubject, setShowAddSubject] = useState(false);\n  const [newModalSubject, setNewModalSubject] = useState('');\n  const [addSubjectMsg, setAddSubjectMsg] = useState('');\n  const [lastAddedSubject, setLastAddedSubject] = useState('');\n  useEffect(() => {\n    const teacherData = localStorage.getItem('teacher');\n    if (!teacherData) return;\n    const teacherObj = JSON.parse(teacherData);\n    setTeacher(teacherObj);\n    // Fetch assigned classes\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacherObj.id}/classes`).then(res => setClasses(res.data)).catch(() => setClasses([]));\n  }, []);\n  useEffect(() => {\n    if (!selectedClass) return;\n    // Fetch results for selected class\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}`).then(res => setResults(res.data)).catch(() => setResults([]));\n  }, [selectedClass]);\n  useEffect(() => {\n    if (!selectedClass || !teacher.id) return;\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacher.id}/students`).then(res => {\n      // Filter students for the selected class\n      setStudents(res.data.filter(s => s.class === selectedClass));\n    }).catch(() => setStudents([]));\n  }, [selectedClass, teacher.id]);\n\n  // Fetch results for selected class, subject, term, session\n  useEffect(() => {\n    if (!selectedClass || !subject || !term || !session) return;\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}&subject=${subject}&term=${term}&session=${session}`).then(res => {\n      // Map results by student_id for quick lookup\n      const map = {};\n      res.data.forEach(r => {\n        map[r.student_id] = r;\n      });\n      setResultInputs(students.reduce((acc, s) => {\n        acc[s.student_id] = map[s.student_id] ? {\n          score: map[s.student_id].score,\n          grade: map[s.student_id].grade\n        } : {\n          score: '',\n          grade: ''\n        };\n        return acc;\n      }, {}));\n    }).catch(() => setResultInputs({}));\n  }, [selectedClass, subject, term, session, students]);\n\n  // Fetch subjects on mount\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/subjects').then(res => setSubjects(res.data)).catch(() => setSubjects([]));\n  }, []);\n\n  // Handle input change for result form\n  const handleResultInputChange = (student_id, field, value) => {\n    setResultInputs(prev => ({\n      ...prev,\n      [student_id]: {\n        ...prev[student_id],\n        [field]: value\n      }\n    }));\n  };\n\n  // Handle submit for a student's result\n  const handleResultSubmit = async student_id => {\n    if (!subject || !term || !session) {\n      setResultMsg('Please select subject, term, and session.');\n      return;\n    }\n    const {\n      score,\n      grade\n    } = resultInputs[student_id] || {};\n    if (!score || !grade) {\n      setResultMsg('Score and grade are required.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/results/manual', {\n        student_id,\n        subject,\n        score,\n        grade,\n        term,\n        session,\n        class: selectedClass\n      });\n      setResultMsg('Result saved!');\n    } catch (err) {\n      setResultMsg('Error saving result.');\n    }\n  };\n  const handleUpload = async () => {\n    if (!csvFile || !selectedClass) {\n      setMessage('Please select a class and choose a file.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', csvFile);\n    formData.append('class', selectedClass);\n    try {\n      await axios.post('http://localhost:5000/api/results/upload', formData);\n      setMessage('Results uploaded!');\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?class=${selectedClass}`);\n      setResults(res.data);\n    } catch (err) {\n      setMessage('Error uploading results.');\n    }\n  };\n  const openStudentModal = async student => {\n    setModalStudent(student);\n    setModalOpen(true);\n    // Fetch results for this student for the current class/term/session\n    try {\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n    } catch {\n      setStudentResults([]);\n    }\n    setModalSubject('');\n    setModalCA('');\n    setModalExam('');\n    setModalGrade('');\n    setModalMsg('');\n  };\n  const closeStudentModal = () => {\n    setModalOpen(false);\n    setModalStudent(null);\n    setStudentResults([]);\n    setModalSubject('');\n    setModalCA('');\n    setModalExam('');\n    setModalGrade('');\n    setModalMsg('');\n  };\n  const handleAddStudentResult = async () => {\n    if (!modalSubject || !modalCA || !modalExam || !modalGrade) {\n      setModalMsg('All fields are required.');\n      return;\n    }\n    // Prevent duplicate subject for this student/session/class/term\n    if (studentResults.some(r => r.subject === modalSubject)) {\n      setModalMsg('This subject already has a result for this student in this session/term/class.');\n      return;\n    }\n    const total = Number(modalCA) + Number(modalExam);\n    try {\n      await axios.post('http://localhost:5000/api/results/manual', {\n        student_id: modalStudent.student_id,\n        subject: modalSubject,\n        score: total,\n        grade: modalGrade,\n        term,\n        session,\n        class: selectedClass\n      });\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${modalStudent.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n      setLastAddedSubject(modalSubject);\n      setModalMsg('Result added!');\n    } catch {\n      setModalMsg('Error adding result.');\n    }\n  };\n  const handleAddAnotherSubject = () => {\n    setModalSubject('');\n    setModalCA('');\n    setModalExam('');\n    setModalGrade('');\n    setModalMsg('');\n    setLastAddedSubject('');\n  };\n  const handleAddModalSubject = async () => {\n    if (!newModalSubject.trim()) return;\n    try {\n      await axios.post('http://localhost:5000/api/subjects', {\n        name: newModalSubject\n      });\n      const res = await axios.get('http://localhost:5000/api/subjects');\n      setSubjects(res.data);\n      setModalSubject(newModalSubject);\n      setShowAddSubject(false);\n      setNewModalSubject('');\n      setAddSubjectMsg('Subject added!');\n    } catch {\n      setAddSubjectMsg('Error adding subject.');\n    }\n  };\n  const TERMS = ['1st Term', '2nd Term', '3rd Term'];\n  const SESSIONS = ['2023/24', '2024/25', '2025/26'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-green-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-green-700 text-white flex items-center justify-between px-8 py-4 shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white text-green-700 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold border-2 border-green-300\",\n          children: teacher.fullname ? teacher.fullname.split(' ').map(n => n[0]).join('').toUpperCase() : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-bold text-lg\",\n            children: [\"Welcome, \", teacher.fullname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-200\",\n            children: \"Bosol Schools Teacher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-green-600 hover:bg-green-800 px-4 py-2 rounded text-white font-semibold\",\n        onClick: () => {\n          localStorage.clear();\n          window.location = '/teacher-login';\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-3xl mx-auto mt-8 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"font-semibold text-green-800\",\n          children: \"Select Class:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedClass,\n          onChange: e => setSelectedClass(e.target.value),\n          className: \"p-2 rounded border-green-300 border focus:outline-none ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), classes.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c.name,\n            children: c.name\n          }, c.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 31\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), selectedClass && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded shadow p-6 mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold mb-2 text-green-700\",\n            children: [\"Students in \", selectedClass]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              value: term,\n              onChange: e => setTerm(e.target.value),\n              className: \"border p-2 rounded w-32\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Term\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), TERMS.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: t,\n                children: t\n              }, t, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 35\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: session,\n              onChange: e => setSession(e.target.value),\n              className: \"border p-2 rounded w-32\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Session\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this), SESSIONS.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: s,\n                children: s\n              }, s, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 38\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-green-200\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Full Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"CA Score\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Exam Score\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: students.map(s => {\n                const ca = caScores[s.student_id] || '';\n                const exam = examScores[s.student_id] || '';\n                const total = ca && exam ? Number(ca) + Number(exam) : '';\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: s.fullname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: ca,\n                      onChange: e => setCaScores(prev => ({\n                        ...prev,\n                        [s.student_id]: e.target.value\n                      })),\n                      className: \"border p-1 rounded w-20\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: exam,\n                      onChange: e => setExamScores(prev => ({\n                        ...prev,\n                        [s.student_id]: e.target.value\n                      })),\n                      className: \"border p-1 rounded w-20\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: total,\n                      readOnly: true,\n                      className: \"border p-1 rounded w-20 bg-gray-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded\",\n                      onClick: () => openStudentModal(s),\n                      children: \"View/Add Results\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 25\n                  }, this)]\n                }, s.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: modalOpen,\n            onRequestClose: closeStudentModal,\n            contentLabel: \"Student Results Modal\",\n            ariaHideApp: false,\n            className: \"bg-white rounded shadow p-6 max-w-lg mx-auto mt-20 outline-none\",\n            overlayClassName: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold mb-2 text-green-700\",\n              children: [\"Results for \", modalStudent === null || modalStudent === void 0 ? void 0 : modalStudent.fullname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"min-w-full mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-green-200\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-4 text-left text-green-900\",\n                      children: \"Subject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-4 text-left text-green-900\",\n                      children: \"Score\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 329,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-4 text-left text-green-900\",\n                      children: \"Grade\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: studentResults.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-4\",\n                      children: r.subject\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-4\",\n                      children: r.score\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-4\",\n                      children: r.grade\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 27\n                    }, this)]\n                  }, r.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 flex gap-2 flex-wrap\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: modalSubject,\n                onChange: e => setModalSubject(e.target.value),\n                className: \"border p-2 rounded w-32\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Subject\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 21\n                }, this), subjects.map(sub => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: sub.name,\n                  children: sub.name\n                }, sub.id + '-' + sub.name, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded\",\n                onClick: () => setShowAddSubject(v => !v),\n                children: \"+ Add Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), showAddSubject && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newModalSubject,\n                  onChange: e => setNewModalSubject(e.target.value),\n                  placeholder: \"New subject name\",\n                  className: \"border p-2 rounded w-32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded\",\n                  onClick: handleAddModalSubject,\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 23\n                }, this), addSubjectMsg && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-green-700 ml-2\",\n                  children: addSubjectMsg\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: modalCA,\n                onChange: e => setModalCA(e.target.value),\n                placeholder: \"CA Score\",\n                className: \"border p-2 rounded w-24\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: modalExam,\n                onChange: e => setModalExam(e.target.value),\n                placeholder: \"Exam Score\",\n                className: \"border p-2 rounded w-24\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: modalCA && modalExam ? Number(modalCA) + Number(modalExam) : '',\n                readOnly: true,\n                placeholder: \"Total\",\n                className: \"border p-2 rounded w-24 bg-gray-100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: modalGrade,\n                onChange: e => setModalGrade(e.target.value),\n                placeholder: \"Grade\",\n                className: \"border p-2 rounded w-16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded\",\n                onClick: handleAddStudentResult,\n                disabled: !!lastAddedSubject,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), lastAddedSubject && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded\",\n                onClick: handleAddAnotherSubject,\n                children: \"Add Another Subject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), modalMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-700 mb-2\",\n              children: modalMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mt-2 text-red-600 hover:underline\",\n              onClick: closeStudentModal,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold mb-2 text-green-700\",\n            children: [\"Upload Result for \", selectedClass]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv\",\n              onChange: e => setCsvFile(e.target.files[0]),\n              className: \"border p-2 rounded w-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-green-600 hover:bg-green-700 text-white p-2 rounded\",\n              onClick: handleUpload,\n              children: \"Upload CSV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-green-700 mb-2\",\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded shadow p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold mb-2 text-green-700\",\n            children: [\"Results for \", selectedClass]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-green-200\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Student ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Subject\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Score\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Grade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Term\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"py-2 px-4 text-left text-green-900\",\n                  children: \"Session\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: results.map((r, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: i % 2 === 0 ? 'bg-green-50' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4\",\n                  children: r.student_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4\",\n                  children: r.subject\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4\",\n                  children: r.score\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4\",\n                  children: r.grade\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4\",\n                  children: r.term\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"py-2 px-4\",\n                  children: r.session\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 23\n                }, this)]\n              }, r.id || i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n}\n_s(TeacherDashboard, \"ARprWpnOGuDm8Ayuvh6yNJfPf4w=\");\n_c = TeacherDashboard;\nvar _c;\n$RefreshReg$(_c, \"TeacherDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","TeacherDashboard","_s","teacher","setTeacher","classes","setClasses","selectedClass","setSelectedClass","results","setResults","csvFile","setCsvFile","message","setMessage","students","setStudents","subject","setSubject","term","setTerm","session","setSession","resultInputs","setResultInputs","resultMsg","setResultMsg","subjects","setSubjects","caScores","setCaScores","examScores","setExamScores","selectedSubjects","setSelectedSubjects","manualGrades","setManualGrades","saveMsg","setSaveMsg","modalOpen","setModalOpen","modalStudent","setModalStudent","studentResults","setStudentResults","modalSubject","setModalSubject","modalCA","setModalCA","modalExam","setModalExam","modalGrade","setModalGrade","modalMsg","setModalMsg","showAddSubject","setShowAddSubject","newModalSubject","setNewModalSubject","addSubjectMsg","setAddSubjectMsg","lastAddedSubject","setLastAddedSubject","teacherData","localStorage","getItem","teacherObj","JSON","parse","get","id","then","res","data","catch","filter","s","class","map","forEach","r","student_id","reduce","acc","score","grade","handleResultInputChange","field","value","prev","handleResultSubmit","post","err","handleUpload","formData","FormData","append","openStudentModal","student","closeStudentModal","handleAddStudentResult","some","total","Number","handleAddAnotherSubject","handleAddModalSubject","trim","name","TERMS","SESSIONS","className","children","fullname","split","n","join","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","onClick","clear","window","location","onChange","e","target","c","t","ca","exam","type","readOnly","isOpen","onRequestClose","contentLabel","ariaHideApp","overlayClassName","sub","v","placeholder","disabled","accept","files","i","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/bosol results/frontend/src/pages/TeacherDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from 'react-modal';\r\n\r\nexport default function TeacherDashboard() {\r\n  const [teacher, setTeacher] = useState({});\r\n  const [classes, setClasses] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [students, setStudents] = useState([]);\r\n  const [subject, setSubject] = useState('');\r\n  const [term, setTerm] = useState('');\r\n  const [session, setSession] = useState('');\r\n  const [resultInputs, setResultInputs] = useState({}); // { student_id: { score, grade } }\r\n  const [resultMsg, setResultMsg] = useState('');\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [caScores, setCaScores] = useState({});\r\n  const [examScores, setExamScores] = useState({});\r\n  const [selectedSubjects, setSelectedSubjects] = useState({});\r\n  const [manualGrades, setManualGrades] = useState({});\r\n  const [saveMsg, setSaveMsg] = useState('');\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalStudent, setModalStudent] = useState(null);\r\n  const [studentResults, setStudentResults] = useState([]);\r\n  const [modalSubject, setModalSubject] = useState('');\r\n  const [modalCA, setModalCA] = useState('');\r\n  const [modalExam, setModalExam] = useState('');\r\n  const [modalGrade, setModalGrade] = useState('');\r\n  const [modalMsg, setModalMsg] = useState('');\r\n  const [showAddSubject, setShowAddSubject] = useState(false);\r\n  const [newModalSubject, setNewModalSubject] = useState('');\r\n  const [addSubjectMsg, setAddSubjectMsg] = useState('');\r\n  const [lastAddedSubject, setLastAddedSubject] = useState('');\r\n\r\n  useEffect(() => {\r\n    const teacherData = localStorage.getItem('teacher');\r\n    if (!teacherData) return;\r\n    const teacherObj = JSON.parse(teacherData);\r\n    setTeacher(teacherObj);\r\n    // Fetch assigned classes\r\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacherObj.id}/classes`)\r\n      .then(res => setClasses(res.data))\r\n      .catch(() => setClasses([]));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!selectedClass) return;\r\n    // Fetch results for selected class\r\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}`)\r\n      .then(res => setResults(res.data))\r\n      .catch(() => setResults([]));\r\n  }, [selectedClass]);\r\n\r\n  useEffect(() => {\r\n    if (!selectedClass || !teacher.id) return;\r\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacher.id}/students`)\r\n      .then(res => {\r\n        // Filter students for the selected class\r\n        setStudents(res.data.filter(s => s.class === selectedClass));\r\n      })\r\n      .catch(() => setStudents([]));\r\n  }, [selectedClass, teacher.id]);\r\n\r\n  // Fetch results for selected class, subject, term, session\r\n  useEffect(() => {\r\n    if (!selectedClass || !subject || !term || !session) return;\r\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}&subject=${subject}&term=${term}&session=${session}`)\r\n      .then(res => {\r\n        // Map results by student_id for quick lookup\r\n        const map = {};\r\n        res.data.forEach(r => { map[r.student_id] = r; });\r\n        setResultInputs(students.reduce((acc, s) => {\r\n          acc[s.student_id] = map[s.student_id] ? { score: map[s.student_id].score, grade: map[s.student_id].grade } : { score: '', grade: '' };\r\n          return acc;\r\n        }, {}));\r\n      })\r\n      .catch(() => setResultInputs({}));\r\n  }, [selectedClass, subject, term, session, students]);\r\n\r\n  // Fetch subjects on mount\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/api/subjects')\r\n      .then(res => setSubjects(res.data))\r\n      .catch(() => setSubjects([]));\r\n  }, []);\r\n\r\n  // Handle input change for result form\r\n  const handleResultInputChange = (student_id, field, value) => {\r\n    setResultInputs(prev => ({\r\n      ...prev,\r\n      [student_id]: {\r\n        ...prev[student_id],\r\n        [field]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Handle submit for a student's result\r\n  const handleResultSubmit = async (student_id) => {\r\n    if (!subject || !term || !session) {\r\n      setResultMsg('Please select subject, term, and session.');\r\n      return;\r\n    }\r\n    const { score, grade } = resultInputs[student_id] || {};\r\n    if (!score || !grade) {\r\n      setResultMsg('Score and grade are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await axios.post('http://localhost:5000/api/results/manual', {\r\n        student_id,\r\n        subject,\r\n        score,\r\n        grade,\r\n        term,\r\n        session,\r\n        class: selectedClass\r\n      });\r\n      setResultMsg('Result saved!');\r\n    } catch (err) {\r\n      setResultMsg('Error saving result.');\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!csvFile || !selectedClass) {\r\n      setMessage('Please select a class and choose a file.');\r\n      return;\r\n    }\r\n    const formData = new FormData();\r\n    formData.append('file', csvFile);\r\n    formData.append('class', selectedClass);\r\n    try {\r\n      await axios.post('http://localhost:5000/api/results/upload', formData);\r\n      setMessage('Results uploaded!');\r\n      // Refresh results\r\n      const res = await axios.get(`http://localhost:5000/api/results?class=${selectedClass}`);\r\n      setResults(res.data);\r\n    } catch (err) {\r\n      setMessage('Error uploading results.');\r\n    }\r\n  };\r\n\r\n  const openStudentModal = async (student) => {\r\n    setModalStudent(student);\r\n    setModalOpen(true);\r\n    // Fetch results for this student for the current class/term/session\r\n    try {\r\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\r\n      setStudentResults(res.data);\r\n    } catch {\r\n      setStudentResults([]);\r\n    }\r\n    setModalSubject('');\r\n    setModalCA('');\r\n    setModalExam('');\r\n    setModalGrade('');\r\n    setModalMsg('');\r\n  };\r\n  const closeStudentModal = () => {\r\n    setModalOpen(false);\r\n    setModalStudent(null);\r\n    setStudentResults([]);\r\n    setModalSubject('');\r\n    setModalCA('');\r\n    setModalExam('');\r\n    setModalGrade('');\r\n    setModalMsg('');\r\n  };\r\n  const handleAddStudentResult = async () => {\r\n    if (!modalSubject || !modalCA || !modalExam || !modalGrade) {\r\n      setModalMsg('All fields are required.');\r\n      return;\r\n    }\r\n    // Prevent duplicate subject for this student/session/class/term\r\n    if (studentResults.some(r => r.subject === modalSubject)) {\r\n      setModalMsg('This subject already has a result for this student in this session/term/class.');\r\n      return;\r\n    }\r\n    const total = Number(modalCA) + Number(modalExam);\r\n    try {\r\n      await axios.post('http://localhost:5000/api/results/manual', {\r\n        student_id: modalStudent.student_id,\r\n        subject: modalSubject,\r\n        score: total,\r\n        grade: modalGrade,\r\n        term,\r\n        session,\r\n        class: selectedClass\r\n      });\r\n      // Refresh results\r\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${modalStudent.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\r\n      setStudentResults(res.data);\r\n      setLastAddedSubject(modalSubject);\r\n      setModalMsg('Result added!');\r\n    } catch {\r\n      setModalMsg('Error adding result.');\r\n    }\r\n  };\r\n  const handleAddAnotherSubject = () => {\r\n    setModalSubject('');\r\n    setModalCA('');\r\n    setModalExam('');\r\n    setModalGrade('');\r\n    setModalMsg('');\r\n    setLastAddedSubject('');\r\n  };\r\n\r\n  const handleAddModalSubject = async () => {\r\n    if (!newModalSubject.trim()) return;\r\n    try {\r\n      await axios.post('http://localhost:5000/api/subjects', { name: newModalSubject });\r\n      const res = await axios.get('http://localhost:5000/api/subjects');\r\n      setSubjects(res.data);\r\n      setModalSubject(newModalSubject);\r\n      setShowAddSubject(false);\r\n      setNewModalSubject('');\r\n      setAddSubjectMsg('Subject added!');\r\n    } catch {\r\n      setAddSubjectMsg('Error adding subject.');\r\n    }\r\n  };\r\n\r\n  const TERMS = ['1st Term', '2nd Term', '3rd Term'];\r\n  const SESSIONS = ['2023/24', '2024/25', '2025/26'];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-green-50\">\r\n      <header className=\"bg-green-700 text-white flex items-center justify-between px-8 py-4 shadow\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"bg-white text-green-700 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold border-2 border-green-300\">\r\n            {teacher.fullname ? teacher.fullname.split(' ').map(n => n[0]).join('').toUpperCase() : ''}\r\n          </div>\r\n          <div>\r\n            <div className=\"font-bold text-lg\">Welcome, {teacher.fullname}</div>\r\n            <div className=\"text-sm text-green-200\">Bosol Schools Teacher</div>\r\n          </div>\r\n        </div>\r\n        <button className=\"bg-green-600 hover:bg-green-800 px-4 py-2 rounded text-white font-semibold\" onClick={() => { localStorage.clear(); window.location = '/teacher-login'; }}>Logout</button>\r\n      </header>\r\n      <main className=\"max-w-3xl mx-auto mt-8 p-4\">\r\n        <div className=\"mb-6\">\r\n          <label className=\"font-semibold text-green-800\">Select Class:</label>\r\n          <select value={selectedClass} onChange={e => setSelectedClass(e.target.value)} className=\"p-2 rounded border-green-300 border focus:outline-none ml-2\">\r\n            <option value=\"\">-- Select --</option>\r\n            {classes.map(c => <option key={c.id} value={c.name}>{c.name}</option>)}\r\n          </select>\r\n        </div>\r\n        {selectedClass && (\r\n          <>\r\n            <div className=\"bg-white rounded shadow p-6 mb-8\">\r\n              <h3 className=\"font-bold mb-2 text-green-700\">Students in {selectedClass}</h3>\r\n              <div className=\"flex gap-4 mb-4\">\r\n                <select value={term} onChange={e => setTerm(e.target.value)} className=\"border p-2 rounded w-32\">\r\n                  <option value=\"\">Select Term</option>\r\n                  {TERMS.map(t => <option key={t} value={t}>{t}</option>)}\r\n                </select>\r\n                <select value={session} onChange={e => setSession(e.target.value)} className=\"border p-2 rounded w-32\">\r\n                  <option value=\"\">Select Session</option>\r\n                  {SESSIONS.map(s => <option key={s} value={s}>{s}</option>)}\r\n                </select>\r\n              </div>\r\n              <table className=\"min-w-full\">\r\n                <thead className=\"bg-green-200\">\r\n                  <tr>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Full Name</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">CA Score</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Exam Score</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Total</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {students.map(s => {\r\n                    const ca = caScores[s.student_id] || '';\r\n                    const exam = examScores[s.student_id] || '';\r\n                    const total = ca && exam ? Number(ca) + Number(exam) : '';\r\n                    return (\r\n                      <tr key={s.id}>\r\n                        <td className=\"py-2 px-4\">{s.fullname}</td>\r\n                        <td className=\"py-2 px-4\">\r\n                          <input\r\n                            type=\"number\"\r\n                            value={ca}\r\n                            onChange={e => setCaScores(prev => ({ ...prev, [s.student_id]: e.target.value }))}\r\n                            className=\"border p-1 rounded w-20\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"py-2 px-4\">\r\n                          <input\r\n                            type=\"number\"\r\n                            value={exam}\r\n                            onChange={e => setExamScores(prev => ({ ...prev, [s.student_id]: e.target.value }))}\r\n                            className=\"border p-1 rounded w-20\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"py-2 px-4\">\r\n                          <input\r\n                            type=\"number\"\r\n                            value={total}\r\n                            readOnly\r\n                            className=\"border p-1 rounded w-20 bg-gray-100\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"py-2 px-4\">\r\n                          <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded\" onClick={() => openStudentModal(s)}>View/Add Results</button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n              <Modal\r\n                isOpen={modalOpen}\r\n                onRequestClose={closeStudentModal}\r\n                contentLabel=\"Student Results Modal\"\r\n                ariaHideApp={false}\r\n                className=\"bg-white rounded shadow p-6 max-w-lg mx-auto mt-20 outline-none\"\r\n                overlayClassName=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center\"\r\n              >\r\n                <h3 className=\"font-bold mb-2 text-green-700\">Results for {modalStudent?.fullname}</h3>\r\n                <div className=\"mb-4\">\r\n                  <table className=\"min-w-full mb-2\">\r\n                    <thead className=\"bg-green-200\">\r\n                      <tr>\r\n                        <th className=\"py-2 px-4 text-left text-green-900\">Subject</th>\r\n                        <th className=\"py-2 px-4 text-left text-green-900\">Score</th>\r\n                        <th className=\"py-2 px-4 text-left text-green-900\">Grade</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {studentResults.map(r => (\r\n                        <tr key={r.id}>\r\n                          <td className=\"py-2 px-4\">{r.subject}</td>\r\n                          <td className=\"py-2 px-4\">{r.score}</td>\r\n                          <td className=\"py-2 px-4\">{r.grade}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div className=\"mb-4 flex gap-2 flex-wrap\">\r\n                  <select value={modalSubject} onChange={e => setModalSubject(e.target.value)} className=\"border p-2 rounded w-32\">\r\n                    <option value=\"\">Select Subject</option>\r\n                    {subjects.map(sub => (\r\n                      <option key={sub.id + '-' + sub.name} value={sub.name}>{sub.name}</option>\r\n                    ))}\r\n                  </select>\r\n                  <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded\" onClick={() => setShowAddSubject(v => !v)}>+ Add Subject</button>\r\n                  {showAddSubject && (\r\n                    <>\r\n                      <input type=\"text\" value={newModalSubject} onChange={e => setNewModalSubject(e.target.value)} placeholder=\"New subject name\" className=\"border p-2 rounded w-32\" />\r\n                      <button className=\"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded\" onClick={handleAddModalSubject}>Save</button>\r\n                      {addSubjectMsg && <span className=\"text-green-700 ml-2\">{addSubjectMsg}</span>}\r\n                    </>\r\n                  )}\r\n                  <input type=\"number\" value={modalCA} onChange={e => setModalCA(e.target.value)} placeholder=\"CA Score\" className=\"border p-2 rounded w-24\" />\r\n                  <input type=\"number\" value={modalExam} onChange={e => setModalExam(e.target.value)} placeholder=\"Exam Score\" className=\"border p-2 rounded w-24\" />\r\n                  <input type=\"number\" value={modalCA && modalExam ? Number(modalCA) + Number(modalExam) : ''} readOnly placeholder=\"Total\" className=\"border p-2 rounded w-24 bg-gray-100\" />\r\n                  <input type=\"text\" value={modalGrade} onChange={e => setModalGrade(e.target.value)} placeholder=\"Grade\" className=\"border p-2 rounded w-16\" />\r\n                  <button className=\"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded\" onClick={handleAddStudentResult} disabled={!!lastAddedSubject}>Save</button>\r\n                  {lastAddedSubject && (\r\n                    <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded\" onClick={handleAddAnotherSubject}>Add Another Subject</button>\r\n                  )}\r\n                </div>\r\n                {modalMsg && <div className=\"text-green-700 mb-2\">{modalMsg}</div>}\r\n                <button className=\"mt-2 text-red-600 hover:underline\" onClick={closeStudentModal}>Close</button>\r\n              </Modal>\r\n            </div>\r\n            <div className=\"bg-white rounded shadow p-6\">\r\n              <h3 className=\"font-bold mb-2 text-green-700\">Upload Result for {selectedClass}</h3>\r\n              <div className=\"flex items-center gap-2 mb-4\">\r\n                <input type=\"file\" accept=\".csv\" onChange={e => setCsvFile(e.target.files[0])} className=\"border p-2 rounded w-full\" />\r\n                <button className=\"bg-green-600 hover:bg-green-700 text-white p-2 rounded\" onClick={handleUpload}>Upload CSV</button>\r\n              </div>\r\n              {message && <div className=\"text-green-700 mb-2\">{message}</div>}\r\n            </div>\r\n            <div className=\"bg-white rounded shadow p-6\">\r\n              <h3 className=\"font-bold mb-2 text-green-700\">Results for {selectedClass}</h3>\r\n              <table className=\"min-w-full\">\r\n                <thead className=\"bg-green-200\">\r\n                  <tr>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Student ID</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Subject</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Score</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Grade</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Term</th>\r\n                    <th className=\"py-2 px-4 text-left text-green-900\">Session</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {results.map((r, i) => (\r\n                    <tr key={r.id || i} className={i % 2 === 0 ? 'bg-green-50' : ''}>\r\n                      <td className=\"py-2 px-4\">{r.student_id}</td>\r\n                      <td className=\"py-2 px-4\">{r.subject}</td>\r\n                      <td className=\"py-2 px-4\">{r.score}</td>\r\n                      <td className=\"py-2 px-4\">{r.grade}</td>\r\n                      <td className=\"py-2 px-4\">{r.term}</td>\r\n                      <td className=\"py-2 px-4\">{r.session}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}