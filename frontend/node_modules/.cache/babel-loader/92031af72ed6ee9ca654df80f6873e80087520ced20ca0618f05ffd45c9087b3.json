{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\bosol results\\\\frontend\\\\src\\\\pages\\\\TeacherDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TeacherDashboard() {\n  _s();\n  const [teacher, setTeacher] = useState({});\n  const [classes, setClasses] = useState([]);\n  const [selectedClass, setSelectedClass] = useState('');\n  const [results, setResults] = useState([]);\n  const [csvFile, setCsvFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const [students, setStudents] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [term, setTerm] = useState('');\n  const [session, setSession] = useState('');\n  const [resultInputs, setResultInputs] = useState({}); // { student_id: { score, grade } }\n  const [resultMsg, setResultMsg] = useState('');\n  const [subjects, setSubjects] = useState([]);\n  const [caScores, setCaScores] = useState({});\n  const [examScores, setExamScores] = useState({});\n  const [selectedSubjects, setSelectedSubjects] = useState({});\n  const [manualGrades, setManualGrades] = useState({});\n  const [saveMsg, setSaveMsg] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalStudent, setModalStudent] = useState(null);\n  const [studentResults, setStudentResults] = useState([]);\n  const [modalSubject, setModalSubject] = useState('');\n  const [modalCA, setModalCA] = useState('');\n  const [modalExam, setModalExam] = useState('');\n  const [modalGrade, setModalGrade] = useState('');\n  const [modalMsg, setModalMsg] = useState('');\n  const [showAddSubject, setShowAddSubject] = useState(false);\n  const [newModalSubject, setNewModalSubject] = useState('');\n  const [addSubjectMsg, setAddSubjectMsg] = useState('');\n  const [lastAddedSubject, setLastAddedSubject] = useState('');\n  const [batchResults, setBatchResults] = useState([]);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  useEffect(() => {\n    const teacherData = localStorage.getItem('teacher');\n    if (!teacherData) return;\n    const teacherObj = JSON.parse(teacherData);\n    setTeacher(teacherObj);\n    // Fetch assigned classes\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacherObj.id}/classes`).then(res => setClasses(res.data)).catch(() => setClasses([]));\n  }, []);\n  useEffect(() => {\n    if (!selectedClass) return;\n    // Fetch results for selected class\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}`).then(res => setResults(res.data)).catch(() => setResults([]));\n  }, [selectedClass]);\n  useEffect(() => {\n    if (!selectedClass || !teacher.id) return;\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacher.id}/students`).then(res => {\n      // Filter students for the selected class\n      setStudents(res.data.filter(s => s.class === selectedClass));\n    }).catch(() => setStudents([]));\n  }, [selectedClass, teacher.id]);\n\n  // Fetch results for selected class, subject, term, session\n  useEffect(() => {\n    if (!selectedClass || !subject || !term || !session) return;\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}&subject=${subject}&term=${term}&session=${session}`).then(res => {\n      // Map results by student_id for quick lookup\n      const map = {};\n      res.data.forEach(r => {\n        map[r.student_id] = r;\n      });\n      setResultInputs(students.reduce((acc, s) => {\n        acc[s.student_id] = map[s.student_id] ? {\n          score: map[s.student_id].score,\n          grade: map[s.student_id].grade\n        } : {\n          score: '',\n          grade: ''\n        };\n        return acc;\n      }, {}));\n    }).catch(() => setResultInputs({}));\n  }, [selectedClass, subject, term, session, students]);\n\n  // Fetch subjects on mount\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/subjects').then(res => setSubjects(res.data)).catch(() => setSubjects([]));\n  }, []);\n\n  // Handle input change for result form\n  const handleResultInputChange = (student_id, field, value) => {\n    setResultInputs(prev => ({\n      ...prev,\n      [student_id]: {\n        ...prev[student_id],\n        [field]: value\n      }\n    }));\n  };\n\n  // Handle submit for a student's result\n  const handleResultSubmit = async student_id => {\n    if (!subject || !term || !session) {\n      setResultMsg('Please select subject, term, and session.');\n      return;\n    }\n    const {\n      score,\n      grade\n    } = resultInputs[student_id] || {};\n    if (!score || !grade) {\n      setResultMsg('Score and grade are required.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/results/manual', {\n        student_id,\n        subject,\n        score,\n        grade,\n        term,\n        session,\n        class: selectedClass\n      });\n      setResultMsg('Result saved!');\n    } catch (err) {\n      setResultMsg('Error saving result.');\n    }\n  };\n  const handleUpload = async () => {\n    if (!csvFile || !selectedClass) {\n      setMessage('Please select a class and choose a file.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', csvFile);\n    formData.append('class', selectedClass);\n    try {\n      await axios.post('http://localhost:5000/api/results/upload', formData);\n      setMessage('Results uploaded!');\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?class=${selectedClass}`);\n      setResults(res.data);\n    } catch (err) {\n      setMessage('Error uploading results.');\n    }\n  };\n  const openStudentModal = async student => {\n    setModalStudent(student);\n    setModalOpen(true);\n    // Fetch results for this student for the current class/term/session\n    try {\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n    } catch {\n      setStudentResults([]);\n    }\n    setBatchResults([]);\n    setModalMsg('');\n  };\n  const closeStudentModal = () => {\n    setModalOpen(false);\n    setModalStudent(null);\n    setStudentResults([]);\n    setBatchResults([]);\n    setModalMsg('');\n  };\n  const handleAddBatchRow = () => {\n    setBatchResults(prev => [...prev, {\n      subject: '',\n      ca: '',\n      exam: '',\n      grade: ''\n    }]);\n  };\n  const handleBatchRowChange = (idx, field, value) => {\n    setBatchResults(prev => prev.map((row, i) => i === idx ? {\n      ...row,\n      [field]: value\n    } : row));\n  };\n  const handleRemoveBatchRow = idx => {\n    setBatchResults(prev => prev.filter((_, i) => i !== idx));\n  };\n  const handleSubmitBatchResults = async () => {\n    // Prevent duplicate subjects in the batch or with existing results\n    const allSubjects = [...studentResults.map(r => r.subject), ...batchResults.map(r => r.subject)];\n    const hasDuplicates = new Set(batchResults.map(r => r.subject)).size !== batchResults.length;\n    const hasExisting = batchResults.some(r => studentResults.some(sr => sr.subject === r.subject));\n    if (hasDuplicates) {\n      setModalMsg('Duplicate subjects in batch.');\n      return;\n    }\n    if (hasExisting) {\n      setModalMsg('One or more subjects already have results for this student in this session/term/class.');\n      return;\n    }\n    if (batchResults.some(r => !r.subject || !r.ca || !r.exam || !r.grade)) {\n      setModalMsg('All fields are required for each row.');\n      return;\n    }\n    try {\n      for (const row of batchResults) {\n        await axios.post('http://localhost:5000/api/results/manual', {\n          student_id: modalStudent.student_id,\n          subject: row.subject,\n          score: Number(row.ca) + Number(row.exam),\n          grade: row.grade,\n          term,\n          session,\n          class: selectedClass\n        });\n      }\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${modalStudent.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n      setBatchResults([]);\n      setModalMsg('All results added!');\n    } catch {\n      setModalMsg('Error adding results.');\n    }\n  };\n  const handleAddModalSubject = async () => {\n    if (!newModalSubject.trim()) return;\n    try {\n      await axios.post('http://localhost:5000/api/subjects', {\n        name: newModalSubject\n      });\n      const res = await axios.get('http://localhost:5000/api/subjects');\n      setSubjects(res.data);\n      setModalSubject(newModalSubject);\n      setShowAddSubject(false);\n      setNewModalSubject('');\n      setAddSubjectMsg('Subject added!');\n    } catch {\n      setAddSubjectMsg('Error adding subject.');\n    }\n  };\n  const TERMS = ['1st Term', '2nd Term', '3rd Term'];\n  const SESSIONS = ['2023/24', '2024/25', '2025/26'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-green-50 flex flex-col md:flex-row\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"w-full md:w-64 bg-green-700 text-white min-h-[60px] md:min-h-screen p-4 md:p-6 flex flex-row md:flex-col justify-between shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-row md:flex-col w-full items-center md:items-start justify-between md:justify-start\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 md:mb-8 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white text-green-700 rounded-full w-10 h-10 flex items-center justify-center font-bold text-xl border-2 border-green-300\",\n            children: \"B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl md:text-2xl font-extrabold tracking-wide\",\n            children: \"Bosol Schools\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-auto flex justify-end md:justify-start\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full bg-green-600 hover:bg-green-800 py-2 rounded text-white font-semibold mt-2 md:mt-8\",\n          onClick: () => {\n            localStorage.clear();\n            window.location = '/teacher-login';\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 p-2 md:p-10 w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl md:text-3xl font-extrabold text-green-800 mb-4 md:mb-6 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bg-green-100 text-green-700 px-2 md:px-3 py-1 rounded-full font-bold text-lg\",\n          children: \"Teacher\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), \"Dashboard\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: selectedClass && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded shadow p-2 md:p-6 mb-4 md:mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold mb-2 text-green-700 text-base md:text-lg\",\n              children: [\"Students in \", selectedClass]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col md:flex-row gap-2 md:gap-4 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: term,\n                onChange: e => setTerm(e.target.value),\n                className: \"border p-2 rounded w-full md:w-32\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Term\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 19\n                }, this), TERMS.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: t,\n                  children: t\n                }, t, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 35\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: session,\n                onChange: e => setSession(e.target.value),\n                className: \"border p-2 rounded w-full md:w-32\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Session\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 19\n                }, this), SESSIONS.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: s,\n                  children: s\n                }, s, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 38\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"min-w-[600px] w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-green-200\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Full Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA Score\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Exam Score\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: students.map(s => {\n                    const ca = caScores[s.student_id] || '';\n                    const exam = examScores[s.student_id] || '';\n                    const total = ca && exam ? Number(ca) + Number(exam) : '';\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: s.fullname\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: ca,\n                          onChange: e => setCaScores(prev => ({\n                            ...prev,\n                            [s.student_id]: e.target.value\n                          })),\n                          className: \"border p-1 rounded w-full md:w-20\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: exam,\n                          onChange: e => setExamScores(prev => ({\n                            ...prev,\n                            [s.student_id]: e.target.value\n                          })),\n                          className: \"border p-1 rounded w-full md:w-20\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 300,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: total,\n                          readOnly: true,\n                          className: \"border p-1 rounded w-full md:w-20 bg-gray-100\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded w-full md:w-auto\",\n                          onClick: () => openStudentModal(s),\n                          children: \"View/Add Results\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 316,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 25\n                      }, this)]\n                    }, s.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 23\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Modal, {\n              isOpen: modalOpen,\n              onRequestClose: closeStudentModal,\n              contentLabel: \"Student Results Modal\",\n              ariaHideApp: false,\n              className: \"bg-white rounded shadow p-2 md:p-6 max-w-3xl w-full mx-auto mt-10 md:mt-20 outline-none overflow-x-auto\",\n              overlayClassName: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-bold mb-2 text-green-700 text-base md:text-lg\",\n                children: [\"Results for \", modalStudent === null || modalStudent === void 0 ? void 0 : modalStudent.fullname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 overflow-x-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"min-w-[400px] w-full mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \"bg-green-200\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Subject\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 337,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Score\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Grade\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: studentResults.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: r.subject\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: r.score\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 346,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: r.grade\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 27\n                      }, this)]\n                    }, r.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4 overflow-x-auto\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mb-2 w-full md:w-auto\",\n                  onClick: handleAddBatchRow,\n                  children: \"+ Add Subject Row\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"min-w-[600px] w-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    className: \"bg-green-100\",\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Subject\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 358,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"CA\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Exam\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Total\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 361,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Grade\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 363,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: batchResults.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"select\", {\n                          value: row.subject,\n                          onChange: e => handleBatchRowChange(idx, 'subject', e.target.value),\n                          className: \"border p-2 rounded w-full md:w-32\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"\",\n                            children: \"Select Subject\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 371,\n                            columnNumber: 31\n                          }, this), subjects.map(sub => /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: sub.name,\n                            children: sub.name\n                          }, sub.id + '-' + sub.name, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 373,\n                            columnNumber: 33\n                          }, this))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 370,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 369,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: row.ca,\n                          onChange: e => handleBatchRowChange(idx, 'ca', e.target.value),\n                          className: \"border p-2 rounded w-full md:w-20\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 378,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 377,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: row.exam,\n                          onChange: e => handleBatchRowChange(idx, 'exam', e.target.value),\n                          className: \"border p-2 rounded w-full md:w-20\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 381,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 380,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"number\",\n                          value: row.ca && row.exam ? Number(row.ca) + Number(row.exam) : '',\n                          readOnly: true,\n                          className: \"border p-2 rounded w-full md:w-20 bg-gray-100\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 384,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 383,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          value: row.grade,\n                          onChange: e => handleBatchRowChange(idx, 'grade', e.target.value),\n                          className: \"border p-2 rounded w-full md:w-16\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 387,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 386,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"py-2 px-2 md:px-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"text-red-600 hover:underline w-full md:w-auto\",\n                          onClick: () => handleRemoveBatchRow(idx),\n                          children: \"Remove\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 390,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 389,\n                        columnNumber: 27\n                      }, this)]\n                    }, idx, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 368,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this), batchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold mt-2 w-full md:w-auto\",\n                  onClick: handleSubmitBatchResults,\n                  children: \"Submit All\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), modalMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-green-700 mb-2\",\n                children: modalMsg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 30\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mt-2 text-red-600 hover:underline w-full md:w-auto\",\n                onClick: closeStudentModal,\n                children: \"Close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 5\n  }, this);\n}\n_s(TeacherDashboard, \"K6TixfGPrKZEAvRk2Jd4uxTRbh8=\");\n_c = TeacherDashboard;\nvar _c;\n$RefreshReg$(_c, \"TeacherDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","TeacherDashboard","_s","teacher","setTeacher","classes","setClasses","selectedClass","setSelectedClass","results","setResults","csvFile","setCsvFile","message","setMessage","students","setStudents","subject","setSubject","term","setTerm","session","setSession","resultInputs","setResultInputs","resultMsg","setResultMsg","subjects","setSubjects","caScores","setCaScores","examScores","setExamScores","selectedSubjects","setSelectedSubjects","manualGrades","setManualGrades","saveMsg","setSaveMsg","modalOpen","setModalOpen","modalStudent","setModalStudent","studentResults","setStudentResults","modalSubject","setModalSubject","modalCA","setModalCA","modalExam","setModalExam","modalGrade","setModalGrade","modalMsg","setModalMsg","showAddSubject","setShowAddSubject","newModalSubject","setNewModalSubject","addSubjectMsg","setAddSubjectMsg","lastAddedSubject","setLastAddedSubject","batchResults","setBatchResults","sidebarOpen","setSidebarOpen","teacherData","localStorage","getItem","teacherObj","JSON","parse","get","id","then","res","data","catch","filter","s","class","map","forEach","r","student_id","reduce","acc","score","grade","handleResultInputChange","field","value","prev","handleResultSubmit","post","err","handleUpload","formData","FormData","append","openStudentModal","student","closeStudentModal","handleAddBatchRow","ca","exam","handleBatchRowChange","idx","row","i","handleRemoveBatchRow","_","handleSubmitBatchResults","allSubjects","hasDuplicates","Set","size","length","hasExisting","some","sr","Number","handleAddModalSubject","trim","name","TERMS","SESSIONS","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","clear","window","location","onChange","e","target","t","total","fullname","type","readOnly","isOpen","onRequestClose","contentLabel","ariaHideApp","overlayClassName","sub","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/bosol results/frontend/src/pages/TeacherDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Modal from 'react-modal';\r\n\r\nexport default function TeacherDashboard() {\r\n  const [teacher, setTeacher] = useState({});\r\n  const [classes, setClasses] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [students, setStudents] = useState([]);\r\n  const [subject, setSubject] = useState('');\r\n  const [term, setTerm] = useState('');\r\n  const [session, setSession] = useState('');\r\n  const [resultInputs, setResultInputs] = useState({}); // { student_id: { score, grade } }\r\n  const [resultMsg, setResultMsg] = useState('');\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [caScores, setCaScores] = useState({});\r\n  const [examScores, setExamScores] = useState({});\r\n  const [selectedSubjects, setSelectedSubjects] = useState({});\r\n  const [manualGrades, setManualGrades] = useState({});\r\n  const [saveMsg, setSaveMsg] = useState('');\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalStudent, setModalStudent] = useState(null);\r\n  const [studentResults, setStudentResults] = useState([]);\r\n  const [modalSubject, setModalSubject] = useState('');\r\n  const [modalCA, setModalCA] = useState('');\r\n  const [modalExam, setModalExam] = useState('');\r\n  const [modalGrade, setModalGrade] = useState('');\r\n  const [modalMsg, setModalMsg] = useState('');\r\n  const [showAddSubject, setShowAddSubject] = useState(false);\r\n  const [newModalSubject, setNewModalSubject] = useState('');\r\n  const [addSubjectMsg, setAddSubjectMsg] = useState('');\r\n  const [lastAddedSubject, setLastAddedSubject] = useState('');\r\n  const [batchResults, setBatchResults] = useState([]);\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const teacherData = localStorage.getItem('teacher');\r\n    if (!teacherData) return;\r\n    const teacherObj = JSON.parse(teacherData);\r\n    setTeacher(teacherObj);\r\n    // Fetch assigned classes\r\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacherObj.id}/classes`)\r\n      .then(res => setClasses(res.data))\r\n      .catch(() => setClasses([]));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!selectedClass) return;\r\n    // Fetch results for selected class\r\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}`)\r\n      .then(res => setResults(res.data))\r\n      .catch(() => setResults([]));\r\n  }, [selectedClass]);\r\n\r\n  useEffect(() => {\r\n    if (!selectedClass || !teacher.id) return;\r\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacher.id}/students`)\r\n      .then(res => {\r\n        // Filter students for the selected class\r\n        setStudents(res.data.filter(s => s.class === selectedClass));\r\n      })\r\n      .catch(() => setStudents([]));\r\n  }, [selectedClass, teacher.id]);\r\n\r\n  // Fetch results for selected class, subject, term, session\r\n  useEffect(() => {\r\n    if (!selectedClass || !subject || !term || !session) return;\r\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}&subject=${subject}&term=${term}&session=${session}`)\r\n      .then(res => {\r\n        // Map results by student_id for quick lookup\r\n        const map = {};\r\n        res.data.forEach(r => { map[r.student_id] = r; });\r\n        setResultInputs(students.reduce((acc, s) => {\r\n          acc[s.student_id] = map[s.student_id] ? { score: map[s.student_id].score, grade: map[s.student_id].grade } : { score: '', grade: '' };\r\n          return acc;\r\n        }, {}));\r\n      })\r\n      .catch(() => setResultInputs({}));\r\n  }, [selectedClass, subject, term, session, students]);\r\n\r\n  // Fetch subjects on mount\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/api/subjects')\r\n      .then(res => setSubjects(res.data))\r\n      .catch(() => setSubjects([]));\r\n  }, []);\r\n\r\n  // Handle input change for result form\r\n  const handleResultInputChange = (student_id, field, value) => {\r\n    setResultInputs(prev => ({\r\n      ...prev,\r\n      [student_id]: {\r\n        ...prev[student_id],\r\n        [field]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Handle submit for a student's result\r\n  const handleResultSubmit = async (student_id) => {\r\n    if (!subject || !term || !session) {\r\n      setResultMsg('Please select subject, term, and session.');\r\n      return;\r\n    }\r\n    const { score, grade } = resultInputs[student_id] || {};\r\n    if (!score || !grade) {\r\n      setResultMsg('Score and grade are required.');\r\n      return;\r\n    }\r\n    try {\r\n      await axios.post('http://localhost:5000/api/results/manual', {\r\n        student_id,\r\n        subject,\r\n        score,\r\n        grade,\r\n        term,\r\n        session,\r\n        class: selectedClass\r\n      });\r\n      setResultMsg('Result saved!');\r\n    } catch (err) {\r\n      setResultMsg('Error saving result.');\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!csvFile || !selectedClass) {\r\n      setMessage('Please select a class and choose a file.');\r\n      return;\r\n    }\r\n    const formData = new FormData();\r\n    formData.append('file', csvFile);\r\n    formData.append('class', selectedClass);\r\n    try {\r\n      await axios.post('http://localhost:5000/api/results/upload', formData);\r\n      setMessage('Results uploaded!');\r\n      // Refresh results\r\n      const res = await axios.get(`http://localhost:5000/api/results?class=${selectedClass}`);\r\n      setResults(res.data);\r\n    } catch (err) {\r\n      setMessage('Error uploading results.');\r\n    }\r\n  };\r\n\r\n  const openStudentModal = async (student) => {\r\n    setModalStudent(student);\r\n    setModalOpen(true);\r\n    // Fetch results for this student for the current class/term/session\r\n    try {\r\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\r\n      setStudentResults(res.data);\r\n    } catch {\r\n      setStudentResults([]);\r\n    }\r\n    setBatchResults([]);\r\n    setModalMsg('');\r\n  };\r\n  const closeStudentModal = () => {\r\n    setModalOpen(false);\r\n    setModalStudent(null);\r\n    setStudentResults([]);\r\n    setBatchResults([]);\r\n    setModalMsg('');\r\n  };\r\n  const handleAddBatchRow = () => {\r\n    setBatchResults(prev => [...prev, { subject: '', ca: '', exam: '', grade: '' }]);\r\n  };\r\n  const handleBatchRowChange = (idx, field, value) => {\r\n    setBatchResults(prev => prev.map((row, i) => i === idx ? { ...row, [field]: value } : row));\r\n  };\r\n  const handleRemoveBatchRow = (idx) => {\r\n    setBatchResults(prev => prev.filter((_, i) => i !== idx));\r\n  };\r\n  const handleSubmitBatchResults = async () => {\r\n    // Prevent duplicate subjects in the batch or with existing results\r\n    const allSubjects = [\r\n      ...studentResults.map(r => r.subject),\r\n      ...batchResults.map(r => r.subject)\r\n    ];\r\n    const hasDuplicates = new Set(batchResults.map(r => r.subject)).size !== batchResults.length;\r\n    const hasExisting = batchResults.some(r => studentResults.some(sr => sr.subject === r.subject));\r\n    if (hasDuplicates) {\r\n      setModalMsg('Duplicate subjects in batch.');\r\n      return;\r\n    }\r\n    if (hasExisting) {\r\n      setModalMsg('One or more subjects already have results for this student in this session/term/class.');\r\n      return;\r\n    }\r\n    if (batchResults.some(r => !r.subject || !r.ca || !r.exam || !r.grade)) {\r\n      setModalMsg('All fields are required for each row.');\r\n      return;\r\n    }\r\n    try {\r\n      for (const row of batchResults) {\r\n        await axios.post('http://localhost:5000/api/results/manual', {\r\n          student_id: modalStudent.student_id,\r\n          subject: row.subject,\r\n          score: Number(row.ca) + Number(row.exam),\r\n          grade: row.grade,\r\n          term,\r\n          session,\r\n          class: selectedClass\r\n        });\r\n      }\r\n      // Refresh results\r\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${modalStudent.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\r\n      setStudentResults(res.data);\r\n      setBatchResults([]);\r\n      setModalMsg('All results added!');\r\n    } catch {\r\n      setModalMsg('Error adding results.');\r\n    }\r\n  };\r\n\r\n  const handleAddModalSubject = async () => {\r\n    if (!newModalSubject.trim()) return;\r\n    try {\r\n      await axios.post('http://localhost:5000/api/subjects', { name: newModalSubject });\r\n      const res = await axios.get('http://localhost:5000/api/subjects');\r\n      setSubjects(res.data);\r\n      setModalSubject(newModalSubject);\r\n      setShowAddSubject(false);\r\n      setNewModalSubject('');\r\n      setAddSubjectMsg('Subject added!');\r\n    } catch {\r\n      setAddSubjectMsg('Error adding subject.');\r\n    }\r\n  };\r\n\r\n  const TERMS = ['1st Term', '2nd Term', '3rd Term'];\r\n  const SESSIONS = ['2023/24', '2024/25', '2025/26'];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-green-50 flex flex-col md:flex-row\">\r\n      {/* Sidebar */}\r\n      <nav className=\"w-full md:w-64 bg-green-700 text-white min-h-[60px] md:min-h-screen p-4 md:p-6 flex flex-row md:flex-col justify-between shadow-lg\">\r\n        <div className=\"flex flex-row md:flex-col w-full items-center md:items-start justify-between md:justify-start\">\r\n          <div className=\"mb-4 md:mb-8 flex items-center gap-2\">\r\n            <div className=\"bg-white text-green-700 rounded-full w-10 h-10 flex items-center justify-center font-bold text-xl border-2 border-green-300\">B</div>\r\n            <span className=\"text-xl md:text-2xl font-extrabold tracking-wide\">Bosol Schools</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"w-full md:w-auto flex justify-end md:justify-start\">\r\n          <button className=\"w-full bg-green-600 hover:bg-green-800 py-2 rounded text-white font-semibold mt-2 md:mt-8\" onClick={() => { localStorage.clear(); window.location = '/teacher-login'; }}>Logout</button>\r\n        </div>\r\n      </nav>\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 p-2 md:p-10 w-full\">\r\n        <h2 className=\"text-2xl md:text-3xl font-extrabold text-green-800 mb-4 md:mb-6 flex items-center gap-2\">\r\n          <span className=\"bg-green-100 text-green-700 px-2 md:px-3 py-1 rounded-full font-bold text-lg\">Teacher</span>\r\n          Dashboard\r\n        </h2>\r\n        <div className=\"overflow-x-auto\">\r\n        {selectedClass && (\r\n          <>\r\n            <div className=\"bg-white rounded shadow p-2 md:p-6 mb-4 md:mb-8\">\r\n              <h3 className=\"font-bold mb-2 text-green-700 text-base md:text-lg\">Students in {selectedClass}</h3>\r\n              <div className=\"flex flex-col md:flex-row gap-2 md:gap-4 mb-4\">\r\n                <select value={term} onChange={e => setTerm(e.target.value)} className=\"border p-2 rounded w-full md:w-32\">\r\n                  <option value=\"\">Select Term</option>\r\n                  {TERMS.map(t => <option key={t} value={t}>{t}</option>)}\r\n                </select>\r\n                <select value={session} onChange={e => setSession(e.target.value)} className=\"border p-2 rounded w-full md:w-32\">\r\n                  <option value=\"\">Select Session</option>\r\n                  {SESSIONS.map(s => <option key={s} value={s}>{s}</option>)}\r\n                </select>\r\n              </div>\r\n              <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-[600px] w-full\">\r\n                <thead className=\"bg-green-200\">\r\n                  <tr>\r\n                    <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Full Name</th>\r\n                    <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA Score</th>\r\n                    <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Exam Score</th>\r\n                    <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Total</th>\r\n                    <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {students.map(s => {\r\n                    const ca = caScores[s.student_id] || '';\r\n                    const exam = examScores[s.student_id] || '';\r\n                    const total = ca && exam ? Number(ca) + Number(exam) : '';\r\n                    return (\r\n                      <tr key={s.id}>\r\n                        <td className=\"py-2 px-2 md:px-4\">{s.fullname}</td>\r\n                        <td className=\"py-2 px-2 md:px-4\">\r\n                          <input\r\n                            type=\"number\"\r\n                            value={ca}\r\n                            onChange={e => setCaScores(prev => ({ ...prev, [s.student_id]: e.target.value }))}\r\n                            className=\"border p-1 rounded w-full md:w-20\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"py-2 px-2 md:px-4\">\r\n                          <input\r\n                            type=\"number\"\r\n                            value={exam}\r\n                            onChange={e => setExamScores(prev => ({ ...prev, [s.student_id]: e.target.value }))}\r\n                            className=\"border p-1 rounded w-full md:w-20\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"py-2 px-2 md:px-4\">\r\n                          <input\r\n                            type=\"number\"\r\n                            value={total}\r\n                            readOnly\r\n                            className=\"border p-1 rounded w-full md:w-20 bg-gray-100\"\r\n                          />\r\n                        </td>\r\n                        <td className=\"py-2 px-2 md:px-4\">\r\n                          <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded w-full md:w-auto\" onClick={() => openStudentModal(s)}>View/Add Results</button>\r\n                        </td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n              </div>\r\n              <Modal\r\n                isOpen={modalOpen}\r\n                onRequestClose={closeStudentModal}\r\n                contentLabel=\"Student Results Modal\"\r\n                ariaHideApp={false}\r\n                className=\"bg-white rounded shadow p-2 md:p-6 max-w-3xl w-full mx-auto mt-10 md:mt-20 outline-none overflow-x-auto\"\r\n                overlayClassName=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center\"\r\n              >\r\n                <h3 className=\"font-bold mb-2 text-green-700 text-base md:text-lg\">Results for {modalStudent?.fullname}</h3>\r\n                <div className=\"mb-4 overflow-x-auto\">\r\n                  <table className=\"min-w-[400px] w-full mb-2\">\r\n                    <thead className=\"bg-green-200\">\r\n                      <tr>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Subject</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Score</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Grade</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {studentResults.map(r => (\r\n                        <tr key={r.id}>\r\n                          <td className=\"py-2 px-2 md:px-4\">{r.subject}</td>\r\n                          <td className=\"py-2 px-2 md:px-4\">{r.score}</td>\r\n                          <td className=\"py-2 px-2 md:px-4\">{r.grade}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div className=\"mb-4 overflow-x-auto\">\r\n                  <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mb-2 w-full md:w-auto\" onClick={handleAddBatchRow}>+ Add Subject Row</button>\r\n                  <table className=\"min-w-[600px] w-full\">\r\n                    <thead className=\"bg-green-100\">\r\n                      <tr>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Subject</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Exam</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Total</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Grade</th>\r\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Action</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {batchResults.map((row, idx) => (\r\n                        <tr key={idx}>\r\n                          <td className=\"py-2 px-2 md:px-4\">\r\n                            <select value={row.subject} onChange={e => handleBatchRowChange(idx, 'subject', e.target.value)} className=\"border p-2 rounded w-full md:w-32\">\r\n                              <option value=\"\">Select Subject</option>\r\n                              {subjects.map(sub => (\r\n                                <option key={sub.id + '-' + sub.name} value={sub.name}>{sub.name}</option>\r\n                              ))}\r\n                            </select>\r\n                          </td>\r\n                          <td className=\"py-2 px-2 md:px-4\">\r\n                            <input type=\"number\" value={row.ca} onChange={e => handleBatchRowChange(idx, 'ca', e.target.value)} className=\"border p-2 rounded w-full md:w-20\" />\r\n                          </td>\r\n                          <td className=\"py-2 px-2 md:px-4\">\r\n                            <input type=\"number\" value={row.exam} onChange={e => handleBatchRowChange(idx, 'exam', e.target.value)} className=\"border p-2 rounded w-full md:w-20\" />\r\n                          </td>\r\n                          <td className=\"py-2 px-2 md:px-4\">\r\n                            <input type=\"number\" value={row.ca && row.exam ? Number(row.ca) + Number(row.exam) : ''} readOnly className=\"border p-2 rounded w-full md:w-20 bg-gray-100\" />\r\n                          </td>\r\n                          <td className=\"py-2 px-2 md:px-4\">\r\n                            <input type=\"text\" value={row.grade} onChange={e => handleBatchRowChange(idx, 'grade', e.target.value)} className=\"border p-2 rounded w-full md:w-16\" />\r\n                          </td>\r\n                          <td className=\"py-2 px-2 md:px-4\">\r\n                            <button className=\"text-red-600 hover:underline w-full md:w-auto\" onClick={() => handleRemoveBatchRow(idx)}>Remove</button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                  {batchResults.length > 0 && (\r\n                    <button className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold mt-2 w-full md:w-auto\" onClick={handleSubmitBatchResults}>Submit All</button>\r\n                  )}\r\n                </div>\r\n                {modalMsg && <div className=\"text-green-700 mb-2\">{modalMsg}</div>}\r\n                <button className=\"mt-2 text-red-600 hover:underline w-full md:w-auto\" onClick={closeStudentModal}>Close</button>\r\n              </Modal>\r\n            </div>\r\n          </>\r\n        )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}