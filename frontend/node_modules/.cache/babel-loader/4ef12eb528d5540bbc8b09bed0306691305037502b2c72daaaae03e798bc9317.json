{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Documents\\\\bosol results\\\\frontend\\\\src\\\\pages\\\\TeacherDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TeacherDashboard() {\n  _s();\n  const [teacher, setTeacher] = useState({});\n  const [classes, setClasses] = useState([]);\n  const [selectedClass, setSelectedClass] = useState('');\n  const [results, setResults] = useState([]);\n  const [csvFile, setCsvFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const [students, setStudents] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [term, setTerm] = useState('');\n  const [session, setSession] = useState('');\n  const [resultInputs, setResultInputs] = useState({}); // { student_id: { score, grade } }\n  const [resultMsg, setResultMsg] = useState('');\n  const [subjects, setSubjects] = useState([]);\n  const [caScores, setCaScores] = useState({});\n  const [examScores, setExamScores] = useState({});\n  const [selectedSubjects, setSelectedSubjects] = useState({});\n  const [manualGrades, setManualGrades] = useState({});\n  const [saveMsg, setSaveMsg] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalStudent, setModalStudent] = useState(null);\n  const [studentResults, setStudentResults] = useState([]);\n  const [modalSubject, setModalSubject] = useState('');\n  const [modalCA, setModalCA] = useState('');\n  const [modalExam, setModalExam] = useState('');\n  const [modalGrade, setModalGrade] = useState('');\n  const [modalMsg, setModalMsg] = useState('');\n  const [showAddSubject, setShowAddSubject] = useState(false);\n  const [newModalSubject, setNewModalSubject] = useState('');\n  const [addSubjectMsg, setAddSubjectMsg] = useState('');\n  const [lastAddedSubject, setLastAddedSubject] = useState('');\n  const [batchResults, setBatchResults] = useState([]);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('enter');\n  const [historyFilters, setHistoryFilters] = useState({\n    student_id: '',\n    subject: '',\n    term: '',\n    session: ''\n  });\n  const [historyResults, setHistoryResults] = useState([]);\n  const [remark, setRemark] = useState('');\n  const [remarkMsg, setRemarkMsg] = useState('');\n  useEffect(() => {\n    const teacherData = localStorage.getItem('teacher');\n    if (!teacherData) return;\n    const teacherObj = JSON.parse(teacherData);\n    setTeacher(teacherObj);\n    // Fetch assigned classes\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacherObj.id}/classes`).then(res => setClasses(res.data)).catch(() => setClasses([]));\n  }, []);\n  useEffect(() => {\n    if (!selectedClass) return;\n    // Fetch results for selected class\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}`).then(res => setResults(res.data)).catch(() => setResults([]));\n  }, [selectedClass]);\n  useEffect(() => {\n    if (!selectedClass || !teacher.id) return;\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacher.id}/students`).then(res => {\n      // Filter students for the selected class\n      setStudents(res.data.filter(s => s.class === selectedClass));\n    }).catch(() => setStudents([]));\n  }, [selectedClass, teacher.id]);\n\n  // Fetch results for selected class, subject, term, session\n  useEffect(() => {\n    if (!selectedClass || !subject || !term || !session) return;\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}&subject=${subject}&term=${term}&session=${session}`).then(res => {\n      // Map results by student_id for quick lookup\n      const map = {};\n      res.data.forEach(r => {\n        map[r.student_id] = r;\n      });\n      setResultInputs(students.reduce((acc, s) => {\n        acc[s.student_id] = map[s.student_id] ? {\n          score: map[s.student_id].score,\n          grade: map[s.student_id].grade\n        } : {\n          score: '',\n          grade: ''\n        };\n        return acc;\n      }, {}));\n    }).catch(() => setResultInputs({}));\n  }, [selectedClass, subject, term, session, students]);\n\n  // Fetch subjects on mount\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/subjects').then(res => setSubjects(res.data)).catch(() => setSubjects([]));\n  }, []);\n\n  // Fetch result history when filters or selectedClass change and tab is 'history'\n  useEffect(() => {\n    if (activeTab !== 'history' || !selectedClass) return;\n    let url = `http://localhost:5000/api/results?class=${selectedClass}`;\n    if (historyFilters.student_id) url += `&student_id=${historyFilters.student_id}`;\n    if (historyFilters.subject) url += `&subject=${historyFilters.subject}`;\n    if (historyFilters.term) url += `&term=${historyFilters.term}`;\n    if (historyFilters.session) url += `&session=${historyFilters.session}`;\n    axios.get(url).then(res => setHistoryResults(res.data)).catch(() => setHistoryResults([]));\n  }, [activeTab, selectedClass, historyFilters]);\n\n  // Handle input change for result form\n  const handleResultInputChange = (student_id, field, value) => {\n    setResultInputs(prev => ({\n      ...prev,\n      [student_id]: {\n        ...prev[student_id],\n        [field]: value\n      }\n    }));\n  };\n\n  // Handle submit for a student's result\n  const handleResultSubmit = async student_id => {\n    if (!subject || !term || !session) {\n      setResultMsg('Please select subject, term, and session.');\n      return;\n    }\n    const {\n      score,\n      grade\n    } = resultInputs[student_id] || {};\n    if (!score || !grade) {\n      setResultMsg('Score and grade are required.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/results/manual', {\n        student_id,\n        subject,\n        score,\n        grade,\n        term,\n        session,\n        class: selectedClass\n      });\n      setResultMsg('Result saved!');\n    } catch (err) {\n      setResultMsg('Error saving result.');\n    }\n  };\n  const handleUpload = async () => {\n    if (!csvFile || !selectedClass) {\n      setMessage('Please select a class and choose a file.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', csvFile);\n    formData.append('class', selectedClass);\n    try {\n      await axios.post('http://localhost:5000/api/results/upload', formData);\n      setMessage('Results uploaded!');\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?class=${selectedClass}`);\n      setResults(res.data);\n    } catch (err) {\n      setMessage('Error uploading results.');\n    }\n  };\n  const openStudentModal = async student => {\n    setModalStudent(student);\n    setModalOpen(true);\n    // Fetch results for this student for the current class/term/session\n    try {\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n    } catch {\n      setStudentResults([]);\n    }\n    // Fetch existing remark\n    try {\n      var _r$data;\n      const r = await axios.get(`http://localhost:5000/api/remarks?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setRemark(((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.remark) || '');\n    } catch {\n      setRemark('');\n    }\n    setBatchResults([]);\n    setModalMsg('');\n    setRemarkMsg('');\n  };\n  const closeStudentModal = () => {\n    setModalOpen(false);\n    setModalStudent(null);\n    setStudentResults([]);\n    setBatchResults([]);\n    setModalMsg('');\n  };\n  const handleAddBatchRow = () => {\n    setBatchResults(prev => [...prev, {\n      subject: '',\n      ca1: '',\n      ca2: '',\n      ca3: '',\n      exam: '',\n      grade: '',\n      remark: ''\n    }]);\n  };\n  const handleBatchRowChange = (idx, field, value) => {\n    setBatchResults(prev => prev.map((row, i) => i === idx ? {\n      ...row,\n      [field]: value\n    } : row));\n  };\n  const handleRemoveBatchRow = idx => {\n    setBatchResults(prev => prev.filter((_, i) => i !== idx));\n  };\n  const handleSubmitBatchResults = async () => {\n    // Prevent duplicate subjects in the batch or with existing results\n    const allSubjects = [...studentResults.map(r => r.subject), ...batchResults.map(r => r.subject)];\n    const hasDuplicates = new Set(batchResults.map(r => r.subject)).size !== batchResults.length;\n    const hasExisting = batchResults.some(r => studentResults.some(sr => sr.subject === r.subject));\n    if (hasDuplicates) {\n      setModalMsg('Duplicate subjects in batch.');\n      return;\n    }\n    if (hasExisting) {\n      setModalMsg('One or more subjects already have results for this student in this session/term/class.');\n      return;\n    }\n    if (batchResults.some(r => !r.subject || !r.ca1 || !r.ca2 || !r.ca3 || !r.exam || !r.grade || !r.remark)) {\n      setModalMsg('All fields are required for each row.');\n      return;\n    }\n    try {\n      for (const row of batchResults) {\n        await axios.post('http://localhost:5000/api/results/manual', {\n          student_id: modalStudent.student_id,\n          subject: row.subject,\n          ca1: row.ca1 || 0,\n          ca2: row.ca2 || 0,\n          ca3: row.ca3 || 0,\n          score: row.exam || 0,\n          grade: row.grade,\n          remark: row.remark,\n          term,\n          session,\n          class: selectedClass\n        });\n      }\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${modalStudent.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n      setBatchResults([]);\n      setModalMsg('All results added!');\n    } catch {\n      setModalMsg('Error adding results.');\n    }\n  };\n  const handleAddModalSubject = async () => {\n    if (!newModalSubject.trim()) return;\n    try {\n      await axios.post('http://localhost:5000/api/subjects', {\n        name: newModalSubject\n      });\n      const res = await axios.get('http://localhost:5000/api/subjects');\n      setSubjects(res.data);\n      setModalSubject(newModalSubject);\n      setShowAddSubject(false);\n      setNewModalSubject('');\n      setAddSubjectMsg('Subject added!');\n    } catch {\n      setAddSubjectMsg('Error adding subject.');\n    }\n  };\n  const handleHistoryFilterChange = e => {\n    setHistoryFilters({\n      ...historyFilters,\n      [e.target.name]: e.target.value\n    });\n  };\n  const TERMS = ['1st Term', '2nd Term', '3rd Term'];\n  const SESSIONS = ['2023/24', '2024/25', '2025/26'];\n  const handleSaveRemark = async () => {\n    if (!remark.trim()) {\n      setRemarkMsg('Remark cannot be empty.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/remarks', {\n        student_id: modalStudent.student_id,\n        class: selectedClass,\n        term,\n        session,\n        remark\n      });\n      setRemarkMsg('Remark saved!');\n    } catch {\n      setRemarkMsg('Error saving remark.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-green-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-green-700 text-white flex items-center justify-between px-8 py-4 shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white text-green-700 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold border-2 border-green-300\",\n          children: teacher.fullname ? teacher.fullname.split(' ').map(n => n[0]).join('').toUpperCase() : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-bold text-lg\",\n            children: [\"Welcome, \", teacher.fullname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-green-200\",\n            children: \"Bosol Schools Teacher\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-green-600 hover:bg-green-800 px-4 py-2 rounded text-white font-semibold\",\n        onClick: () => {\n          localStorage.clear();\n          window.location = '/teacher-login';\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-3xl mx-auto mt-8 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"font-semibold text-green-800\",\n          children: \"Select Class:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedClass,\n          onChange: e => setSelectedClass(e.target.value),\n          className: \"p-2 rounded border-green-300 border focus:outline-none ml-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"-- Select --\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), classes.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c.name,\n            children: c.name\n          }, c.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 31\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), !selectedClass && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-green-700 font-semibold mt-8\",\n        children: \"Please select a class to view and enter results.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), selectedClass && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 rounded font-semibold ${activeTab === 'enter' ? 'bg-green-700 text-white' : 'bg-green-100 text-green-800'}`,\n            onClick: () => setActiveTab('enter'),\n            children: \"Enter Results\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 rounded font-semibold ${activeTab === 'history' ? 'bg-green-700 text-white' : 'bg-green-100 text-green-800'}`,\n            onClick: () => setActiveTab('history'),\n            children: \"View Result History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), activeTab === 'enter' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded shadow p-2 md:p-6 mb-4 md:mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold mb-2 text-green-700 text-base md:text-lg\",\n              children: [\"Students in \", selectedClass]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col md:flex-row gap-2 md:gap-4 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: term,\n                onChange: e => setTerm(e.target.value),\n                className: \"border p-2 rounded w-full md:w-32\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Term\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 23\n                }, this), TERMS.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: t,\n                  children: t\n                }, t, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 39\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: session,\n                onChange: e => setSession(e.target.value),\n                className: \"border p-2 rounded w-full md:w-32\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Session\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this), SESSIONS.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: s,\n                  children: s\n                }, s, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 42\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-[600px] w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-green-200\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                    children: \"Full Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                    children: \"CA Score\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                    children: \"Exam Score\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                    children: \"Action\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: students.map(s => {\n                  const ca = caScores[s.student_id] || '';\n                  const exam = examScores[s.student_id] || '';\n                  const total = ca && exam ? Number(ca) + Number(exam) : '';\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: s.fullname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 372,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: ca,\n                        onChange: e => setCaScores(prev => ({\n                          ...prev,\n                          [s.student_id]: e.target.value\n                        })),\n                        className: \"border p-1 rounded w-full md:w-20\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 374,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: exam,\n                        onChange: e => setExamScores(prev => ({\n                          ...prev,\n                          [s.student_id]: e.target.value\n                        })),\n                        className: \"border p-1 rounded w-full md:w-20\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 382,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 381,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: total,\n                        readOnly: true,\n                        className: \"border p-1 rounded w-full md:w-20 bg-gray-100\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded w-full md:w-auto\",\n                        onClick: () => openStudentModal(s),\n                        children: \"View/Add Results\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 29\n                    }, this)]\n                  }, s.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            isOpen: modalOpen,\n            onRequestClose: closeStudentModal,\n            contentLabel: \"Student Results Modal\",\n            ariaHideApp: false,\n            className: \"bg-white rounded shadow p-2 md:p-6 max-w-3xl w-full mx-auto mt-10 md:mt-20 outline-none overflow-x-auto\",\n            overlayClassName: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold mb-2 text-green-700 text-base md:text-lg\",\n              children: [\"Results for \", modalStudent === null || modalStudent === void 0 ? void 0 : modalStudent.fullname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 overflow-x-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"min-w-[400px] w-full mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-green-200\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Subject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 421,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Exam\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Grade\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Remark\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: studentResults.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.subject\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.ca1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.ca2\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 434,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.ca3\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 435,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.score\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: Number(r.ca1 || 0) + Number(r.ca2 || 0) + Number(r.ca3 || 0) + Number(r.score || 0)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.grade\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: r.remark\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 29\n                    }, this)]\n                  }, r.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 overflow-x-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mb-2 w-full md:w-auto\",\n                onClick: handleAddBatchRow,\n                children: \"+ Add Subject Row\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"min-w-[600px] w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  className: \"bg-green-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Subject\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"CA3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Exam\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Grade\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Remark\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\",\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 458,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: batchResults.map((row, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: row.subject,\n                        onChange: e => handleBatchRowChange(idx, 'subject', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-32\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select Subject\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 466,\n                          columnNumber: 33\n                        }, this), subjects.map(sub => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: sub.name,\n                          children: sub.name\n                        }, sub.id + '-' + sub.name, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 468,\n                          columnNumber: 35\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 465,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: row.ca1 || '',\n                        onChange: e => handleBatchRowChange(idx, 'ca1', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-16\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 473,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 472,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: row.ca2 || '',\n                        onChange: e => handleBatchRowChange(idx, 'ca2', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-16\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 476,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: row.ca3 || '',\n                        onChange: e => handleBatchRowChange(idx, 'ca3', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-16\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 479,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: row.exam || '',\n                        onChange: e => handleBatchRowChange(idx, 'exam', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-16\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 482,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        value: Number(row.ca1 || 0) + Number(row.ca2 || 0) + Number(row.ca3 || 0) + Number(row.exam || 0) || '',\n                        readOnly: true,\n                        className: \"border p-2 rounded w-full md:w-16 bg-gray-100\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 485,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: row.grade || '',\n                        onChange: e => handleBatchRowChange(idx, 'grade', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-16\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 488,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: row.remark || '',\n                        onChange: e => handleBatchRowChange(idx, 'remark', e.target.value),\n                        className: \"border p-2 rounded w-full md:w-24\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 491,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"py-2 px-2 md:px-4\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"text-red-600 hover:underline w-full md:w-auto\",\n                        onClick: () => handleRemoveBatchRow(idx),\n                        children: \"Remove\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 494,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 29\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 21\n              }, this), batchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold mt-2 w-full md:w-auto\",\n                onClick: handleSubmitBatchResults,\n                children: \"Submit All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 19\n            }, this), modalMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-700 mb-2\",\n              children: modalMsg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold text-green-800\",\n                children: \"Report Card Remark:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: remark,\n                onChange: e => setRemark(e.target.value),\n                className: \"border p-2 rounded w-full min-h-[60px] mt-2\",\n                placeholder: \"Enter overall remark for this student for this term/session...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold mt-2\",\n                onClick: handleSaveRemark,\n                children: \"Save Remark\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 21\n              }, this), remarkMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-green-700 mt-1\",\n                children: remarkMsg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mt-2 text-red-600 hover:underline w-full md:w-auto\",\n              onClick: closeStudentModal,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 15\n        }, this), activeTab === 'history' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded shadow p-6 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold mb-2 text-green-700\",\n            children: [\"Result History for \", selectedClass]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2 mb-4 flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"student_id\",\n              value: historyFilters.student_id,\n              onChange: handleHistoryFilterChange,\n              placeholder: \"Student ID\",\n              className: \"border p-2 rounded w-32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"subject\",\n              value: historyFilters.subject,\n              onChange: handleHistoryFilterChange,\n              placeholder: \"Subject\",\n              className: \"border p-2 rounded w-32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"term\",\n              value: historyFilters.term,\n              onChange: handleHistoryFilterChange,\n              placeholder: \"Term\",\n              className: \"border p-2 rounded w-32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"session\",\n              value: historyFilters.session,\n              onChange: handleHistoryFilterChange,\n              placeholder: \"Session\",\n              className: \"border p-2 rounded w-32\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-[600px] w-full bg-green-50 rounded\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-green-200\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-4 text-left text-green-900\",\n                    children: \"Student ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-4 text-left text-green-900\",\n                    children: \"Subject\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-4 text-left text-green-900\",\n                    children: \"Score\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-4 text-left text-green-900\",\n                    children: \"Grade\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-4 text-left text-green-900\",\n                    children: \"Term\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"py-2 px-4 text-left text-green-900\",\n                    children: \"Session\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 539,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: historyResults.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: r.student_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 545,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: r.subject\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: r.score\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: r.grade\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: r.term\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"py-2 px-4\",\n                    children: r.session\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 23\n                  }, this)]\n                }, r.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n}\n_s(TeacherDashboard, \"Va0oLCFlcxSriGp/ZAJSosbuUFU=\");\n_c = TeacherDashboard;\nvar _c;\n$RefreshReg$(_c, \"TeacherDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","TeacherDashboard","_s","teacher","setTeacher","classes","setClasses","selectedClass","setSelectedClass","results","setResults","csvFile","setCsvFile","message","setMessage","students","setStudents","subject","setSubject","term","setTerm","session","setSession","resultInputs","setResultInputs","resultMsg","setResultMsg","subjects","setSubjects","caScores","setCaScores","examScores","setExamScores","selectedSubjects","setSelectedSubjects","manualGrades","setManualGrades","saveMsg","setSaveMsg","modalOpen","setModalOpen","modalStudent","setModalStudent","studentResults","setStudentResults","modalSubject","setModalSubject","modalCA","setModalCA","modalExam","setModalExam","modalGrade","setModalGrade","modalMsg","setModalMsg","showAddSubject","setShowAddSubject","newModalSubject","setNewModalSubject","addSubjectMsg","setAddSubjectMsg","lastAddedSubject","setLastAddedSubject","batchResults","setBatchResults","sidebarOpen","setSidebarOpen","activeTab","setActiveTab","historyFilters","setHistoryFilters","student_id","historyResults","setHistoryResults","remark","setRemark","remarkMsg","setRemarkMsg","teacherData","localStorage","getItem","teacherObj","JSON","parse","get","id","then","res","data","catch","filter","s","class","map","forEach","r","reduce","acc","score","grade","url","handleResultInputChange","field","value","prev","handleResultSubmit","post","err","handleUpload","formData","FormData","append","openStudentModal","student","_r$data","closeStudentModal","handleAddBatchRow","ca1","ca2","ca3","exam","handleBatchRowChange","idx","row","i","handleRemoveBatchRow","_","handleSubmitBatchResults","allSubjects","hasDuplicates","Set","size","length","hasExisting","some","sr","handleAddModalSubject","trim","name","handleHistoryFilterChange","e","target","TERMS","SESSIONS","handleSaveRemark","className","children","fullname","split","n","join","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","onClick","clear","window","location","onChange","c","t","ca","total","Number","type","readOnly","isOpen","onRequestClose","contentLabel","ariaHideApp","overlayClassName","sub","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/DELL/Documents/bosol results/frontend/src/pages/TeacherDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\n\nexport default function TeacherDashboard() {\n  const [teacher, setTeacher] = useState({});\n  const [classes, setClasses] = useState([]);\n  const [selectedClass, setSelectedClass] = useState('');\n  const [results, setResults] = useState([]);\n  const [csvFile, setCsvFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const [students, setStudents] = useState([]);\n  const [subject, setSubject] = useState('');\n  const [term, setTerm] = useState('');\n  const [session, setSession] = useState('');\n  const [resultInputs, setResultInputs] = useState({}); // { student_id: { score, grade } }\n  const [resultMsg, setResultMsg] = useState('');\n  const [subjects, setSubjects] = useState([]);\n  const [caScores, setCaScores] = useState({});\n  const [examScores, setExamScores] = useState({});\n  const [selectedSubjects, setSelectedSubjects] = useState({});\n  const [manualGrades, setManualGrades] = useState({});\n  const [saveMsg, setSaveMsg] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalStudent, setModalStudent] = useState(null);\n  const [studentResults, setStudentResults] = useState([]);\n  const [modalSubject, setModalSubject] = useState('');\n  const [modalCA, setModalCA] = useState('');\n  const [modalExam, setModalExam] = useState('');\n  const [modalGrade, setModalGrade] = useState('');\n  const [modalMsg, setModalMsg] = useState('');\n  const [showAddSubject, setShowAddSubject] = useState(false);\n  const [newModalSubject, setNewModalSubject] = useState('');\n  const [addSubjectMsg, setAddSubjectMsg] = useState('');\n  const [lastAddedSubject, setLastAddedSubject] = useState('');\n  const [batchResults, setBatchResults] = useState([]);\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState('enter');\n  const [historyFilters, setHistoryFilters] = useState({ student_id: '', subject: '', term: '', session: '' });\n  const [historyResults, setHistoryResults] = useState([]);\n  const [remark, setRemark] = useState('');\n  const [remarkMsg, setRemarkMsg] = useState('');\n\n  useEffect(() => {\n    const teacherData = localStorage.getItem('teacher');\n    if (!teacherData) return;\n    const teacherObj = JSON.parse(teacherData);\n    setTeacher(teacherObj);\n    // Fetch assigned classes\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacherObj.id}/classes`)\n      .then(res => setClasses(res.data))\n      .catch(() => setClasses([]));\n  }, []);\n\n  useEffect(() => {\n    if (!selectedClass) return;\n    // Fetch results for selected class\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}`)\n      .then(res => setResults(res.data))\n      .catch(() => setResults([]));\n  }, [selectedClass]);\n\n  useEffect(() => {\n    if (!selectedClass || !teacher.id) return;\n    axios.get(`http://localhost:5000/api/admin/teachers/${teacher.id}/students`)\n      .then(res => {\n        // Filter students for the selected class\n        setStudents(res.data.filter(s => s.class === selectedClass));\n      })\n      .catch(() => setStudents([]));\n  }, [selectedClass, teacher.id]);\n\n  // Fetch results for selected class, subject, term, session\n  useEffect(() => {\n    if (!selectedClass || !subject || !term || !session) return;\n    axios.get(`http://localhost:5000/api/results?class=${selectedClass}&subject=${subject}&term=${term}&session=${session}`)\n      .then(res => {\n        // Map results by student_id for quick lookup\n        const map = {};\n        res.data.forEach(r => { map[r.student_id] = r; });\n        setResultInputs(students.reduce((acc, s) => {\n          acc[s.student_id] = map[s.student_id] ? { score: map[s.student_id].score, grade: map[s.student_id].grade } : { score: '', grade: '' };\n          return acc;\n        }, {}));\n      })\n      .catch(() => setResultInputs({}));\n  }, [selectedClass, subject, term, session, students]);\n\n  // Fetch subjects on mount\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/subjects')\n      .then(res => setSubjects(res.data))\n      .catch(() => setSubjects([]));\n  }, []);\n\n  // Fetch result history when filters or selectedClass change and tab is 'history'\n  useEffect(() => {\n    if (activeTab !== 'history' || !selectedClass) return;\n    let url = `http://localhost:5000/api/results?class=${selectedClass}`;\n    if (historyFilters.student_id) url += `&student_id=${historyFilters.student_id}`;\n    if (historyFilters.subject) url += `&subject=${historyFilters.subject}`;\n    if (historyFilters.term) url += `&term=${historyFilters.term}`;\n    if (historyFilters.session) url += `&session=${historyFilters.session}`;\n    axios.get(url)\n      .then(res => setHistoryResults(res.data))\n      .catch(() => setHistoryResults([]));\n  }, [activeTab, selectedClass, historyFilters]);\n\n  // Handle input change for result form\n  const handleResultInputChange = (student_id, field, value) => {\n    setResultInputs(prev => ({\n      ...prev,\n      [student_id]: {\n        ...prev[student_id],\n        [field]: value\n      }\n    }));\n  };\n\n  // Handle submit for a student's result\n  const handleResultSubmit = async (student_id) => {\n    if (!subject || !term || !session) {\n      setResultMsg('Please select subject, term, and session.');\n      return;\n    }\n    const { score, grade } = resultInputs[student_id] || {};\n    if (!score || !grade) {\n      setResultMsg('Score and grade are required.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/results/manual', {\n        student_id,\n        subject,\n        score,\n        grade,\n        term,\n        session,\n        class: selectedClass\n      });\n      setResultMsg('Result saved!');\n    } catch (err) {\n      setResultMsg('Error saving result.');\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!csvFile || !selectedClass) {\n      setMessage('Please select a class and choose a file.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('file', csvFile);\n    formData.append('class', selectedClass);\n    try {\n      await axios.post('http://localhost:5000/api/results/upload', formData);\n      setMessage('Results uploaded!');\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?class=${selectedClass}`);\n      setResults(res.data);\n    } catch (err) {\n      setMessage('Error uploading results.');\n    }\n  };\n\n  const openStudentModal = async (student) => {\n    setModalStudent(student);\n    setModalOpen(true);\n    // Fetch results for this student for the current class/term/session\n    try {\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n    } catch {\n      setStudentResults([]);\n    }\n    // Fetch existing remark\n    try {\n      const r = await axios.get(`http://localhost:5000/api/remarks?student_id=${student.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setRemark(r.data?.remark || '');\n    } catch {\n      setRemark('');\n    }\n    setBatchResults([]);\n    setModalMsg('');\n    setRemarkMsg('');\n  };\n  const closeStudentModal = () => {\n    setModalOpen(false);\n    setModalStudent(null);\n    setStudentResults([]);\n    setBatchResults([]);\n    setModalMsg('');\n  };\n  const handleAddBatchRow = () => {\n    setBatchResults(prev => [...prev, { subject: '', ca1: '', ca2: '', ca3: '', exam: '', grade: '', remark: '' }]);\n  };\n  const handleBatchRowChange = (idx, field, value) => {\n    setBatchResults(prev => prev.map((row, i) => i === idx ? { ...row, [field]: value } : row));\n  };\n  const handleRemoveBatchRow = (idx) => {\n    setBatchResults(prev => prev.filter((_, i) => i !== idx));\n  };\n  const handleSubmitBatchResults = async () => {\n    // Prevent duplicate subjects in the batch or with existing results\n    const allSubjects = [\n      ...studentResults.map(r => r.subject),\n      ...batchResults.map(r => r.subject)\n    ];\n    const hasDuplicates = new Set(batchResults.map(r => r.subject)).size !== batchResults.length;\n    const hasExisting = batchResults.some(r => studentResults.some(sr => sr.subject === r.subject));\n    if (hasDuplicates) {\n      setModalMsg('Duplicate subjects in batch.');\n      return;\n    }\n    if (hasExisting) {\n      setModalMsg('One or more subjects already have results for this student in this session/term/class.');\n      return;\n    }\n    if (batchResults.some(r => !r.subject || !r.ca1 || !r.ca2 || !r.ca3 || !r.exam || !r.grade || !r.remark)) {\n      setModalMsg('All fields are required for each row.');\n      return;\n    }\n    try {\n      for (const row of batchResults) {\n        await axios.post('http://localhost:5000/api/results/manual', {\n          student_id: modalStudent.student_id,\n          subject: row.subject,\n          ca1: row.ca1 || 0,\n          ca2: row.ca2 || 0,\n          ca3: row.ca3 || 0,\n          score: row.exam || 0,\n          grade: row.grade,\n          remark: row.remark,\n          term,\n          session,\n          class: selectedClass\n        });\n      }\n      // Refresh results\n      const res = await axios.get(`http://localhost:5000/api/results?student_id=${modalStudent.student_id}&class=${selectedClass}&term=${term}&session=${session}`);\n      setStudentResults(res.data);\n      setBatchResults([]);\n      setModalMsg('All results added!');\n    } catch {\n      setModalMsg('Error adding results.');\n    }\n  };\n\n  const handleAddModalSubject = async () => {\n    if (!newModalSubject.trim()) return;\n    try {\n      await axios.post('http://localhost:5000/api/subjects', { name: newModalSubject });\n      const res = await axios.get('http://localhost:5000/api/subjects');\n      setSubjects(res.data);\n      setModalSubject(newModalSubject);\n      setShowAddSubject(false);\n      setNewModalSubject('');\n      setAddSubjectMsg('Subject added!');\n    } catch {\n      setAddSubjectMsg('Error adding subject.');\n    }\n  };\n\n  const handleHistoryFilterChange = (e) => {\n    setHistoryFilters({ ...historyFilters, [e.target.name]: e.target.value });\n  };\n\n  const TERMS = ['1st Term', '2nd Term', '3rd Term'];\n  const SESSIONS = ['2023/24', '2024/25', '2025/26'];\n\n  const handleSaveRemark = async () => {\n    if (!remark.trim()) {\n      setRemarkMsg('Remark cannot be empty.');\n      return;\n    }\n    try {\n      await axios.post('http://localhost:5000/api/remarks', {\n        student_id: modalStudent.student_id,\n        class: selectedClass,\n        term,\n        session,\n        remark\n      });\n      setRemarkMsg('Remark saved!');\n    } catch {\n      setRemarkMsg('Error saving remark.');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-green-50\">\n      {/* Header Bar */}\n      <header className=\"bg-green-700 text-white flex items-center justify-between px-8 py-4 shadow\">\n        <div className=\"flex items-center gap-4\">\n          <div className=\"bg-white text-green-700 rounded-full w-12 h-12 flex items-center justify-center text-xl font-bold border-2 border-green-300\">\n            {teacher.fullname ? teacher.fullname.split(' ').map(n => n[0]).join('').toUpperCase() : ''}\n          </div>\n          <div>\n            <div className=\"font-bold text-lg\">Welcome, {teacher.fullname}</div>\n            <div className=\"text-sm text-green-200\">Bosol Schools Teacher</div>\n          </div>\n        </div>\n        <button className=\"bg-green-600 hover:bg-green-800 px-4 py-2 rounded text-white font-semibold\" onClick={() => { localStorage.clear(); window.location = '/teacher-login'; }}>Logout</button>\n      </header>\n      <main className=\"max-w-3xl mx-auto mt-8 p-4\">\n        {/* Class selection and main dashboard content here */}\n        <div className=\"mb-6\">\n          <label className=\"font-semibold text-green-800\">Select Class:</label>\n          <select\n            value={selectedClass}\n            onChange={e => setSelectedClass(e.target.value)}\n            className=\"p-2 rounded border-green-300 border focus:outline-none ml-2\"\n          >\n            <option value=\"\">-- Select --</option>\n            {classes.map(c => <option key={c.id} value={c.name}>{c.name}</option>)}\n          </select>\n        </div>\n        {!selectedClass && (\n          <div className=\"text-center text-green-700 font-semibold mt-8\">\n            Please select a class to view and enter results.\n          </div>\n        )}\n        {selectedClass && (\n          <>\n            {/* Tab Navigation */}\n            <div className=\"flex gap-4 mb-6\">\n              <button\n                className={`px-4 py-2 rounded font-semibold ${activeTab === 'enter' ? 'bg-green-700 text-white' : 'bg-green-100 text-green-800'}`}\n                onClick={() => setActiveTab('enter')}\n              >\n                Enter Results\n              </button>\n              <button\n                className={`px-4 py-2 rounded font-semibold ${activeTab === 'history' ? 'bg-green-700 text-white' : 'bg-green-100 text-green-800'}`}\n                onClick={() => setActiveTab('history')}\n              >\n                View Result History\n              </button>\n            </div>\n            {/* Enter Results Panel */}\n            {activeTab === 'enter' && (\n              <div className=\"overflow-x-auto\">\n                <div className=\"bg-white rounded shadow p-2 md:p-6 mb-4 md:mb-8\">\n                  <h3 className=\"font-bold mb-2 text-green-700 text-base md:text-lg\">Students in {selectedClass}</h3>\n                  <div className=\"flex flex-col md:flex-row gap-2 md:gap-4 mb-4\">\n                    <select value={term} onChange={e => setTerm(e.target.value)} className=\"border p-2 rounded w-full md:w-32\">\n                      <option value=\"\">Select Term</option>\n                      {TERMS.map(t => <option key={t} value={t}>{t}</option>)}\n                    </select>\n                    <select value={session} onChange={e => setSession(e.target.value)} className=\"border p-2 rounded w-full md:w-32\">\n                      <option value=\"\">Select Session</option>\n                      {SESSIONS.map(s => <option key={s} value={s}>{s}</option>)}\n                    </select>\n                  </div>\n                  <table className=\"min-w-[600px] w-full\">\n                    <thead className=\"bg-green-200\">\n                      <tr>\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Full Name</th>\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA Score</th>\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Exam Score</th>\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Total</th>\n                        <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {students.map(s => {\n                        const ca = caScores[s.student_id] || '';\n                        const exam = examScores[s.student_id] || '';\n                        const total = ca && exam ? Number(ca) + Number(exam) : '';\n                        return (\n                          <tr key={s.id}>\n                            <td className=\"py-2 px-2 md:px-4\">{s.fullname}</td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input\n                                type=\"number\"\n                                value={ca}\n                                onChange={e => setCaScores(prev => ({ ...prev, [s.student_id]: e.target.value }))}\n                                className=\"border p-1 rounded w-full md:w-20\"\n                              />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input\n                                type=\"number\"\n                                value={exam}\n                                onChange={e => setExamScores(prev => ({ ...prev, [s.student_id]: e.target.value }))}\n                                className=\"border p-1 rounded w-full md:w-20\"\n                              />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input\n                                type=\"number\"\n                                value={total}\n                                readOnly\n                                className=\"border p-1 rounded w-full md:w-20 bg-gray-100\"\n                              />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded w-full md:w-auto\" onClick={() => openStudentModal(s)}>View/Add Results</button>\n                            </td>\n                          </tr>\n                        );\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n                <Modal\n                  isOpen={modalOpen}\n                  onRequestClose={closeStudentModal}\n                  contentLabel=\"Student Results Modal\"\n                  ariaHideApp={false}\n                  className=\"bg-white rounded shadow p-2 md:p-6 max-w-3xl w-full mx-auto mt-10 md:mt-20 outline-none overflow-x-auto\"\n                  overlayClassName=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center\"\n                >\n                  <h3 className=\"font-bold mb-2 text-green-700 text-base md:text-lg\">Results for {modalStudent?.fullname}</h3>\n                  <div className=\"mb-4 overflow-x-auto\">\n                    <table className=\"min-w-[400px] w-full mb-2\">\n                      <thead className=\"bg-green-200\">\n                        <tr>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Subject</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA1</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA2</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA3</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Exam</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Total</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Grade</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Remark</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {studentResults.map(r => (\n                          <tr key={r.id}>\n                            <td className=\"py-2 px-2 md:px-4\">{r.subject}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{r.ca1}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{r.ca2}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{r.ca3}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{r.score}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{(Number(r.ca1 || 0) + Number(r.ca2 || 0) + Number(r.ca3 || 0) + Number(r.score || 0))}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{r.grade}</td>\n                            <td className=\"py-2 px-2 md:px-4\">{r.remark}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                  <div className=\"mb-4 overflow-x-auto\">\n                    <button className=\"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded mb-2 w-full md:w-auto\" onClick={handleAddBatchRow}>+ Add Subject Row</button>\n                    <table className=\"min-w-[600px] w-full\">\n                      <thead className=\"bg-green-100\">\n                        <tr>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Subject</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA1</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA2</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">CA3</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Exam</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Total</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Grade</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Remark</th>\n                          <th className=\"py-2 px-2 md:px-4 text-left text-green-900 text-xs md:text-base\">Action</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {batchResults.map((row, idx) => (\n                          <tr key={idx}>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <select value={row.subject} onChange={e => handleBatchRowChange(idx, 'subject', e.target.value)} className=\"border p-2 rounded w-full md:w-32\">\n                                <option value=\"\">Select Subject</option>\n                                {subjects.map(sub => (\n                                  <option key={sub.id + '-' + sub.name} value={sub.name}>{sub.name}</option>\n                                ))}\n                              </select>\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"number\" value={row.ca1 || ''} onChange={e => handleBatchRowChange(idx, 'ca1', e.target.value)} className=\"border p-2 rounded w-full md:w-16\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"number\" value={row.ca2 || ''} onChange={e => handleBatchRowChange(idx, 'ca2', e.target.value)} className=\"border p-2 rounded w-full md:w-16\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"number\" value={row.ca3 || ''} onChange={e => handleBatchRowChange(idx, 'ca3', e.target.value)} className=\"border p-2 rounded w-full md:w-16\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"number\" value={row.exam || ''} onChange={e => handleBatchRowChange(idx, 'exam', e.target.value)} className=\"border p-2 rounded w-full md:w-16\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"number\" value={(Number(row.ca1 || 0) + Number(row.ca2 || 0) + Number(row.ca3 || 0) + Number(row.exam || 0)) || ''} readOnly className=\"border p-2 rounded w-full md:w-16 bg-gray-100\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"text\" value={row.grade || ''} onChange={e => handleBatchRowChange(idx, 'grade', e.target.value)} className=\"border p-2 rounded w-full md:w-16\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <input type=\"text\" value={row.remark || ''} onChange={e => handleBatchRowChange(idx, 'remark', e.target.value)} className=\"border p-2 rounded w-full md:w-24\" />\n                            </td>\n                            <td className=\"py-2 px-2 md:px-4\">\n                              <button className=\"text-red-600 hover:underline w-full md:w-auto\" onClick={() => handleRemoveBatchRow(idx)}>Remove</button>\n                            </td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                    {batchResults.length > 0 && (\n                      <button className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold mt-2 w-full md:w-auto\" onClick={handleSubmitBatchResults}>Submit All</button>\n                    )}\n                  </div>\n                  {modalMsg && <div className=\"text-green-700 mb-2\">{modalMsg}</div>}\n                  <div className=\"mt-6\">\n                    <label className=\"font-semibold text-green-800\">Report Card Remark:</label>\n                    <textarea\n                      value={remark}\n                      onChange={e => setRemark(e.target.value)}\n                      className=\"border p-2 rounded w-full min-h-[60px] mt-2\"\n                      placeholder=\"Enter overall remark for this student for this term/session...\"\n                    />\n                    <button className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold mt-2\" onClick={handleSaveRemark}>Save Remark</button>\n                    {remarkMsg && <div className=\"text-green-700 mt-1\">{remarkMsg}</div>}\n                  </div>\n                  <button className=\"mt-2 text-red-600 hover:underline w-full md:w-auto\" onClick={closeStudentModal}>Close</button>\n                </Modal>\n              </div>\n            )}\n            {/* Result History Panel */}\n            {activeTab === 'history' && (\n              <div className=\"bg-white rounded shadow p-6 mt-4\">\n                <h3 className=\"font-bold mb-2 text-green-700\">Result History for {selectedClass}</h3>\n                <div className=\"flex gap-2 mb-4 flex-wrap\">\n                  <input type=\"text\" name=\"student_id\" value={historyFilters.student_id} onChange={handleHistoryFilterChange} placeholder=\"Student ID\" className=\"border p-2 rounded w-32\" />\n                  <input type=\"text\" name=\"subject\" value={historyFilters.subject} onChange={handleHistoryFilterChange} placeholder=\"Subject\" className=\"border p-2 rounded w-32\" />\n                  <input type=\"text\" name=\"term\" value={historyFilters.term} onChange={handleHistoryFilterChange} placeholder=\"Term\" className=\"border p-2 rounded w-32\" />\n                  <input type=\"text\" name=\"session\" value={historyFilters.session} onChange={handleHistoryFilterChange} placeholder=\"Session\" className=\"border p-2 rounded w-32\" />\n            </div>\n                <div className=\"overflow-x-auto\">\n                  <table className=\"min-w-[600px] w-full bg-green-50 rounded\">\n                <thead className=\"bg-green-200\">\n                  <tr>\n                    <th className=\"py-2 px-4 text-left text-green-900\">Student ID</th>\n                    <th className=\"py-2 px-4 text-left text-green-900\">Subject</th>\n                    <th className=\"py-2 px-4 text-left text-green-900\">Score</th>\n                    <th className=\"py-2 px-4 text-left text-green-900\">Grade</th>\n                    <th className=\"py-2 px-4 text-left text-green-900\">Term</th>\n                    <th className=\"py-2 px-4 text-left text-green-900\">Session</th>\n                  </tr>\n                </thead>\n                <tbody>\n                      {historyResults.map(r => (\n                        <tr key={r.id}>\n                      <td className=\"py-2 px-4\">{r.student_id}</td>\n                      <td className=\"py-2 px-4\">{r.subject}</td>\n                      <td className=\"py-2 px-4\">{r.score}</td>\n                      <td className=\"py-2 px-4\">{r.grade}</td>\n                      <td className=\"py-2 px-4\">{r.term}</td>\n                      <td className=\"py-2 px-4\">{r.session}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n              </div>\n            )}\n          </>\n        )}\n      </main>\n    </div>\n  );\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}